00:20:35.306 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 8104 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
00:20:35.308 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
00:20:35.308 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
00:20:35.550 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
00:20:35.782 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
00:20:35.783 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
00:20:35.783 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
00:20:35.783 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
00:20:35.783 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
00:20:35.783 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
00:20:35.783 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
00:20:35.783 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
00:20:35.783 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
00:20:36.563 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
00:20:36.570 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
00:20:36.671 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
00:20:36.677 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1322 ms
00:20:36.986 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
00:20:37.572 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
00:20:37.578 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
00:20:37.585 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
00:20:37.585 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Timestamp matches criteria [is assignable to Object]
00:20:37.589 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
00:20:37.590 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
00:20:37.595 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
00:20:37.669 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
00:20:37.677 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
00:20:37.684 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
00:20:37.730 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
00:20:37.730 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
00:20:37.749 [main] WARN  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'timestamp' defined in file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\domain\Timestamp.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.util.Date' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
00:20:37.751 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
00:20:37.825 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in at.sparklingscience.urbantrees.domain.Timestamp required a bean of type 'java.util.Date' that could not be found.


Action:

Consider defining a bean of type 'java.util.Date' in your configuration.

00:22:23.013 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 9864 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
00:22:23.015 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
00:22:23.016 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
00:22:23.248 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
00:22:23.459 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
00:22:23.460 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
00:22:23.460 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
00:22:23.460 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
00:22:23.460 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
00:22:23.460 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
00:22:23.460 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
00:22:23.460 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
00:22:23.460 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
00:22:24.310 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
00:22:24.318 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
00:22:24.421 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
00:22:24.427 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1353 ms
00:22:24.822 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
00:22:25.426 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
00:22:25.433 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
00:22:25.439 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
00:22:25.439 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Timestamp matches criteria [is assignable to Object]
00:22:25.444 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
00:22:25.445 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
00:22:25.450 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
00:22:25.526 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
00:22:25.535 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
00:22:25.544 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
00:22:25.594 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
00:22:25.594 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
00:22:25.610 [main] WARN  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'timestamp' defined in file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\domain\Timestamp.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.sql.Timestamp' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
00:22:25.612 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
00:22:25.687 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in at.sparklingscience.urbantrees.domain.Timestamp required a bean of type 'java.sql.Timestamp' that could not be found.


Action:

Consider defining a bean of type 'java.sql.Timestamp' in your configuration.

00:25:22.011 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 7348 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
00:25:22.013 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
00:25:22.013 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
00:25:22.258 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
00:25:22.473 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
00:25:22.473 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
00:25:22.474 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
00:25:22.474 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
00:25:22.474 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
00:25:22.474 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
00:25:22.474 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
00:25:22.474 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
00:25:22.474 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
00:25:23.260 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
00:25:23.266 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
00:25:23.366 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
00:25:23.372 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1309 ms
00:25:23.689 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
00:25:24.224 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
00:25:24.230 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
00:25:24.234 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
00:25:24.235 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Timestamp matches criteria [is assignable to Object]
00:25:24.239 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
00:25:24.239 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
00:25:24.244 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
00:25:24.327 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
00:25:24.338 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
00:25:24.348 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
00:25:24.399 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
00:25:24.399 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
00:25:24.560 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$d7a058e0@79b663b3}
00:25:24.636 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
00:25:24.648 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
00:25:24.648 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
00:25:24.653 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e9803c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@58065f0c, org.springframework.security.web.header.HeaderWriterFilter@7c2327fa, org.springframework.security.web.authentication.logout.LogoutFilter@5395ea39, at.sparklingscience.urbantrees.security.ApiKeyFilter@328d6e62, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@585c13de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c8326a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4525d1d3, org.springframework.security.web.session.SessionManagementFilter@5f462e3b, org.springframework.security.web.access.ExceptionTranslationFilter@6331250e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@511d5d04]
00:25:24.698 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
00:25:24.698 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String)
00:25:24.700 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
00:25:24.700 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
00:25:24.763 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 00:25:22 CET 2017]; root of context hierarchy
00:25:24.815 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
00:25:25.249 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.576 seconds (JVM running for 3.906)
00:25:42.415 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
00:25:42.419 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
00:25:42.436 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 14 ms
00:25:42.443 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
00:25:42.444 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
00:25:42.445 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
00:25:42.451 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@52580493
00:25:42.451 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
00:25:42.451 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
00:25:42.451 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990'; against '/logout'
00:25:42.452 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
00:25:42.452 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990' doesn't match 'POST /logout
00:25:42.452 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
00:25:42.452 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990' doesn't match 'PUT /logout
00:25:42.458 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
00:25:42.458 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990' doesn't match 'DELETE /logout
00:25:42.458 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
00:25:42.458 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
00:25:42.458 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990' matched by universal pattern '/**'
00:25:42.458 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:25:42.459 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:25:42.464 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:25:42.472 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42feb934] was not registered for synchronization because synchronization is not active
00:25:42.858 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@708cb642]]] will not be managed by Spring
00:25:42.860 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:25:42.877 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:25:42.892 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:25:42.892 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:25:42.893 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:25:42.896 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42feb934]
00:25:42.897 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
00:25:42.897 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
00:25:42.898 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
00:25:42.898 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@34c26797'
00:25:42.898 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
00:25:42.898 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5491f68b
00:25:42.898 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
00:25:42.898 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
00:25:42.899 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990; Attributes: [authenticated]
00:25:42.899 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@34c26797
00:25:42.901 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7be7bfba, returned: 1
00:25:42.902 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
00:25:42.902 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
00:25:42.902 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990 reached end of additional filter chain; proceeding with original chain
00:25:42.902 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990' matched by universal pattern '/**'
00:25:42.902 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:25:42.902 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:25:42.902 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:25:42.902 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c1f1f83] was not registered for synchronization because synchronization is not active
00:25:42.902 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@708cb642]]] will not be managed by Spring
00:25:42.903 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:25:42.903 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:25:42.903 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:25:42.903 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:25:42.908 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:25:42.908 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c1f1f83]
00:25:42.923 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:25:42.923 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a16fe01] was not registered for synchronization because synchronization is not active
00:25:42.923 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@708cb642]]] will not be managed by Spring
00:25:42.923 [http-nio-80-exec-2] DEBUG a.s.u.mapper.TreeMapper.findTreeById - ==>  Preparing: select t.id as tree_id, l.id as location_id, l.coords_x, l.coords_y, l.street, c.name as city, s.species, g.genus, a.plantation_year, a.is_plantation_year_estimate from tree_data.tree t, tree_data.tree_location l, tree_data.city c, tree_data.tree_species s, tree_data.tree_genus g, tree_data.tree_age a where t.id = ? and t.location_id = l.id and l.id = c.id and t.species_id = s.id and t.genus_id = g.id and t.id = a.tree_id 
00:25:42.923 [http-nio-80-exec-2] DEBUG a.s.u.mapper.TreeMapper.findTreeById - ==> Parameters: 9990(Integer)
00:25:42.927 [http-nio-80-exec-2] TRACE a.s.u.mapper.TreeMapper.findTreeById - <==    Columns: tree_id, location_id, coords_x, coords_y, street, city, species, genus, plantation_year, is_plantation_year_estimate
00:25:42.927 [http-nio-80-exec-2] TRACE a.s.u.mapper.TreeMapper.findTreeById - <==        Row: 9990, 9990, 465.25, 564.52002, Samplestreet 1, Sample city, Sample species, Sample type, 2017, true
00:25:42.929 [http-nio-80-exec-2] DEBUG a.s.u.mapper.TreeMapper.findTreeById - <==      Total: 1
00:25:42.929 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a16fe01]
00:25:42.976 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
00:25:42.976 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
00:25:49.238 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
00:25:49.242 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
00:25:49.243 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
00:25:49.247 [http-nio-80-exec-3] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@52580493
00:25:49.247 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
00:25:49.247 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
00:25:49.247 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
00:25:49.247 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
00:25:49.247 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
00:25:49.247 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
00:25:49.247 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
00:25:49.247 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
00:25:49.247 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
00:25:49.247 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
00:25:49.248 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
00:25:49.248 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:25:49.248 [http-nio-80-exec-3] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:25:49.248 [http-nio-80-exec-3] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:25:49.248 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:25:49.253 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67e97222] was not registered for synchronization because synchronization is not active
00:25:49.254 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@708cb642]]] will not be managed by Spring
00:25:49.254 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:25:49.254 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:25:49.255 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:25:49.255 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:25:49.255 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:25:49.255 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67e97222]
00:25:49.255 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
00:25:49.255 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
00:25:49.255 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
00:25:49.255 [http-nio-80-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@692e90af'
00:25:49.255 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
00:25:49.256 [http-nio-80-exec-3] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5491f68b
00:25:49.256 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
00:25:49.256 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
00:25:49.256 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
00:25:49.256 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@692e90af
00:25:49.256 [http-nio-80-exec-3] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7be7bfba, returned: 1
00:25:49.256 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
00:25:49.256 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
00:25:49.256 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
00:25:49.256 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:25:49.256 [http-nio-80-exec-3] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:25:49.256 [http-nio-80-exec-3] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:25:49.256 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:25:49.256 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d111952] was not registered for synchronization because synchronization is not active
00:25:49.257 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@708cb642]]] will not be managed by Spring
00:25:49.257 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:25:49.257 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:25:49.257 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:25:49.257 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:25:49.262 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:25:49.262 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d111952]
00:25:49.264 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:25:49.264 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c785d6] was not registered for synchronization because synchronization is not active
00:25:49.264 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@708cb642]]] will not be managed by Spring
00:25:49.264 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id 
00:25:49.264 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
00:25:49.265 [http-nio-80-exec-3] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
00:25:49.266 [http-nio-80-exec-3] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
00:25:49.267 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c785d6]
00:25:49.268 [http-nio-80-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
00:25:49.270 [http-nio-80-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.reflection.ReflectionException: There is no getter for property named 'value' in 'class at.sparklingscience.urbantrees.domain.PhysiognomyDataset'] with root cause
org.apache.ibatis.reflection.ReflectionException: There is no getter for property named 'value' in 'class at.sparklingscience.urbantrees.domain.PhysiognomyDataset'
	at org.apache.ibatis.reflection.Reflector.getGetInvoker(Reflector.java:419)
	at org.apache.ibatis.reflection.MetaClass.getGetInvoker(MetaClass.java:164)
	at org.apache.ibatis.reflection.wrapper.BeanWrapper.getBeanProperty(BeanWrapper.java:162)
	at org.apache.ibatis.reflection.wrapper.BeanWrapper.get(BeanWrapper.java:49)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.instantiateCollectionPropertyIfAppropriate(DefaultResultSetHandler.java:1125)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(DefaultResultSetHandler.java:957)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:914)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForNestedResultMap(DefaultResultSetHandler.java:877)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:324)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:299)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:192)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy60.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:230)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:137)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy65.findPhysiognomyByTreeId(Unknown Source)
	at at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(TreeController.java:40)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
00:28:03.410 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 14992 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
00:28:03.412 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
00:28:03.412 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
00:28:03.642 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
00:28:03.845 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
00:28:03.845 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
00:28:03.845 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
00:28:03.845 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
00:28:03.845 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
00:28:03.846 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
00:28:03.846 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
00:28:03.846 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
00:28:03.846 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
00:28:04.606 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
00:28:04.615 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
00:28:04.708 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
00:28:04.713 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1255 ms
00:28:05.043 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
00:28:05.659 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
00:28:05.665 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
00:28:05.671 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
00:28:05.672 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Timestamp matches criteria [is assignable to Object]
00:28:05.676 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
00:28:05.677 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
00:28:05.681 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
00:28:05.753 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
00:28:05.761 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
00:28:05.769 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
00:28:05.823 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
00:28:05.823 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
00:28:05.841 [main] WARN  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'timestamp' defined in file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\domain\Timestamp.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.sql.Timestamp' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
00:28:05.842 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
00:28:05.936 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in at.sparklingscience.urbantrees.domain.Timestamp required a bean of type 'java.sql.Timestamp' that could not be found.


Action:

Consider defining a bean of type 'java.sql.Timestamp' in your configuration.

00:31:09.366 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 12688 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
00:31:09.368 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
00:31:09.368 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
00:31:09.594 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
00:31:09.791 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
00:31:09.791 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
00:31:09.792 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
00:31:09.792 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
00:31:09.792 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
00:31:09.792 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
00:31:09.792 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
00:31:09.792 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
00:31:09.792 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
00:31:10.490 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
00:31:10.496 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
00:31:10.590 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
00:31:10.595 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1183 ms
00:31:10.867 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
00:31:11.363 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
00:31:11.365 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
00:31:11.370 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
00:31:11.370 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
00:31:11.371 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
00:31:11.371 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
00:31:11.446 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
00:31:11.454 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
00:31:11.460 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
00:31:11.502 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
00:31:11.502 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
00:31:11.649 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$a8382fff@29d37757}
00:31:11.724 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
00:31:11.730 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
00:31:11.738 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
00:31:11.742 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@715fb77, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c2327fa, org.springframework.security.web.header.HeaderWriterFilter@a10c1b5, org.springframework.security.web.authentication.logout.LogoutFilter@45f24169, at.sparklingscience.urbantrees.security.ApiKeyFilter@96006ea, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f462e3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ad11a56, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b9c1b51, org.springframework.security.web.session.SessionManagementFilter@1a411233, org.springframework.security.web.access.ExceptionTranslationFilter@25c5e994, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5cbb84b1]
00:31:11.786 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
00:31:11.787 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String)
00:31:11.789 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
00:31:11.790 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
00:31:11.848 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 00:31:09 CET 2017]; root of context hierarchy
00:31:11.882 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
00:31:12.240 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.203 seconds (JVM running for 3.466)
00:31:14.906 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
00:31:14.911 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
00:31:14.928 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 17 ms
00:31:14.941 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
00:31:14.942 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
00:31:14.943 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
00:31:14.944 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@8099498
00:31:14.950 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
00:31:14.950 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
00:31:14.950 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
00:31:14.950 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
00:31:14.950 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
00:31:14.950 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
00:31:14.950 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
00:31:14.950 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
00:31:14.956 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
00:31:14.956 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
00:31:14.956 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
00:31:14.956 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:31:14.956 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:31:14.957 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:31:14.964 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:31:14.969 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@292d5314] was not registered for synchronization because synchronization is not active
00:31:15.322 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@3e9f4db9]]] will not be managed by Spring
00:31:15.324 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:31:15.338 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:31:15.350 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:31:15.350 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:31:15.350 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:31:15.354 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@292d5314]
00:31:15.354 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
00:31:15.354 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
00:31:15.355 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
00:31:15.355 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@3662878a'
00:31:15.355 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
00:31:15.355 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@61e45f87
00:31:15.355 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
00:31:15.355 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
00:31:15.355 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
00:31:15.356 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@3662878a
00:31:15.358 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7aa81189, returned: 1
00:31:15.358 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
00:31:15.358 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
00:31:15.358 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
00:31:15.358 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:31:15.358 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:31:15.358 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:31:15.358 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:31:15.358 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31b98cf0] was not registered for synchronization because synchronization is not active
00:31:15.359 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@3e9f4db9]]] will not be managed by Spring
00:31:15.359 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:31:15.359 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:31:15.359 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:31:15.359 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:31:15.359 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:31:15.363 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31b98cf0]
00:31:15.377 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:31:15.377 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ea43c4] was not registered for synchronization because synchronization is not active
00:31:15.377 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@3e9f4db9]]] will not be managed by Spring
00:31:15.377 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id 
00:31:15.377 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
00:31:15.379 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
00:31:15.379 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
00:31:15.380 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ea43c4]
00:31:15.382 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
00:31:15.383 [http-nio-80-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.reflection.ReflectionException: There is no getter for property named 'value' in 'class at.sparklingscience.urbantrees.domain.PhysiognomyDataset'] with root cause
org.apache.ibatis.reflection.ReflectionException: There is no getter for property named 'value' in 'class at.sparklingscience.urbantrees.domain.PhysiognomyDataset'
	at org.apache.ibatis.reflection.Reflector.getGetInvoker(Reflector.java:419)
	at org.apache.ibatis.reflection.MetaClass.getGetInvoker(MetaClass.java:164)
	at org.apache.ibatis.reflection.wrapper.BeanWrapper.getBeanProperty(BeanWrapper.java:162)
	at org.apache.ibatis.reflection.wrapper.BeanWrapper.get(BeanWrapper.java:49)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.instantiateCollectionPropertyIfAppropriate(DefaultResultSetHandler.java:1125)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(DefaultResultSetHandler.java:957)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:914)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForNestedResultMap(DefaultResultSetHandler.java:877)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:324)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:299)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:192)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy60.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:230)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:137)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy65.findPhysiognomyByTreeId(Unknown Source)
	at at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(TreeController.java:40)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
00:31:44.471 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 9884 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
00:31:44.473 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
00:31:44.473 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
00:31:44.694 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
00:31:44.908 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
00:31:44.908 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
00:31:44.908 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
00:31:44.909 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
00:31:44.909 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
00:31:44.909 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
00:31:44.909 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
00:31:44.909 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
00:31:44.909 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
00:31:45.610 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
00:31:45.617 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
00:31:45.694 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
00:31:45.699 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1180 ms
00:31:46.003 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
00:31:46.469 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
00:31:46.471 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
00:31:46.471 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
00:31:46.471 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
00:31:46.472 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
00:31:46.472 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
00:31:46.547 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
00:31:46.555 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
00:31:46.561 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
00:31:46.610 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
00:31:46.610 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
00:31:46.766 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$d7a058e0@79b663b3}
00:31:46.842 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
00:31:46.848 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
00:31:46.854 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
00:31:46.859 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e9803c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@58065f0c, org.springframework.security.web.header.HeaderWriterFilter@7c2327fa, org.springframework.security.web.authentication.logout.LogoutFilter@5395ea39, at.sparklingscience.urbantrees.security.ApiKeyFilter@96006ea, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@585c13de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c8326a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4525d1d3, org.springframework.security.web.session.SessionManagementFilter@5f462e3b, org.springframework.security.web.access.ExceptionTranslationFilter@6331250e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@511d5d04]
00:31:46.924 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
00:31:46.925 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String)
00:31:46.928 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
00:31:46.928 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
00:31:46.974 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 00:31:44 CET 2017]; root of context hierarchy
00:31:47.008 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
00:31:47.447 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.311 seconds (JVM running for 3.574)
00:31:48.474 [http-nio-80-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
00:31:48.478 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
00:31:48.494 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 16 ms
00:31:48.506 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
00:31:48.506 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
00:31:48.508 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
00:31:48.508 [http-nio-80-exec-1] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@bdf133f
00:31:48.512 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
00:31:48.512 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
00:31:48.512 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
00:31:48.513 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
00:31:48.513 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
00:31:48.513 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
00:31:48.513 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
00:31:48.513 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
00:31:48.517 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
00:31:48.517 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
00:31:48.517 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
00:31:48.517 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:31:48.517 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:31:48.517 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:31:48.524 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:31:48.528 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@707cb3e] was not registered for synchronization because synchronization is not active
00:31:48.950 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@20a95d]]] will not be managed by Spring
00:31:48.953 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:31:48.970 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:31:48.982 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:31:48.982 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:31:48.983 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:31:48.986 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@707cb3e]
00:31:48.986 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
00:31:48.987 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
00:31:48.987 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
00:31:48.987 [http-nio-80-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@7e8fc9f4'
00:31:48.987 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
00:31:48.987 [http-nio-80-exec-1] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5491f68b
00:31:48.988 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
00:31:48.988 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
00:31:48.988 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
00:31:48.988 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@7e8fc9f4
00:31:48.991 [http-nio-80-exec-1] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6b318ff4, returned: 1
00:31:48.991 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
00:31:48.991 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
00:31:48.991 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
00:31:48.991 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:31:48.991 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:31:48.991 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:31:48.991 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:31:48.991 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@136a2691] was not registered for synchronization because synchronization is not active
00:31:48.991 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@20a95d]]] will not be managed by Spring
00:31:48.991 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:31:48.991 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:31:48.992 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:31:48.992 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:31:48.992 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:31:48.996 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@136a2691]
00:31:49.009 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:31:49.009 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c9a346d] was not registered for synchronization because synchronization is not active
00:31:49.009 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@20a95d]]] will not be managed by Spring
00:31:49.010 [http-nio-80-exec-1] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id 
00:31:49.010 [http-nio-80-exec-1] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
00:31:49.011 [http-nio-80-exec-1] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
00:31:49.011 [http-nio-80-exec-1] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
00:31:49.013 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c9a346d]
00:31:49.014 [http-nio-80-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
00:31:49.015 [http-nio-80-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: java.lang.UnsupportedOperationException
### The error may exist in file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]
### The error may involve at.sparklingscience.urbantrees.mapper.PhysiognomyMapper.findPhysiognomyByTreeId
### The error occurred while handling results
### SQL: select       p.tree_id,       p.tree_height,       p.trunk_circumference,       p.crown_base,       p.crown_width,       p.observe_dat   from       tree_data.tree t,       tree_data.physiognomy p   where       t.id = ?       and t.id = p.tree_id
### Cause: java.lang.UnsupportedOperationException] with root cause
java.lang.UnsupportedOperationException: null
	at org.apache.ibatis.reflection.wrapper.CollectionWrapper.get(CollectionWrapper.java:38)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.instantiateCollectionPropertyIfAppropriate(DefaultResultSetHandler.java:1125)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(DefaultResultSetHandler.java:957)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:914)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForNestedResultMap(DefaultResultSetHandler.java:877)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:324)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:299)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:192)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy60.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:230)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:137)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy65.findPhysiognomyByTreeId(Unknown Source)
	at at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(TreeController.java:40)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
00:41:17.615 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 12908 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
00:41:17.618 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
00:41:17.618 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
00:41:17.863 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
00:41:18.101 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
00:41:18.102 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
00:41:18.102 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
00:41:18.102 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
00:41:18.102 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
00:41:18.102 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
00:41:18.102 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
00:41:18.102 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
00:41:18.102 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
00:41:18.856 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
00:41:18.864 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
00:41:18.956 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
00:41:18.962 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1294 ms
00:41:19.285 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
00:41:19.828 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
00:41:19.834 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
00:41:19.839 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
00:41:19.840 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
00:41:19.840 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
00:41:19.840 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
00:41:19.845 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
00:41:19.913 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
00:41:19.922 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
00:41:19.932 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
00:41:19.980 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
00:41:19.980 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
00:41:20.133 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$3cc26d2@4fcc529}
00:41:20.217 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
00:41:20.227 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
00:41:20.228 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
00:41:20.232 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b9c1b51, org.springframework.security.web.context.SecurityContextPersistenceFilter@4d847d32, org.springframework.security.web.header.HeaderWriterFilter@644abb8f, org.springframework.security.web.authentication.logout.LogoutFilter@6ad5923a, at.sparklingscience.urbantrees.security.ApiKeyFilter@7d72bb18, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d7fa3ae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@522b2631, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e52fb3e, org.springframework.security.web.session.SessionManagementFilter@70325d20, org.springframework.security.web.access.ExceptionTranslationFilter@378bd86d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2c779e5]
00:41:20.281 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
00:41:20.282 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String)
00:41:20.284 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
00:41:20.285 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
00:41:20.343 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 00:41:17 CET 2017]; root of context hierarchy
00:41:20.387 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
00:41:20.811 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.546 seconds (JVM running for 3.821)
00:41:23.436 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
00:41:23.440 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
00:41:23.463 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 19 ms
00:41:23.474 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
00:41:23.474 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
00:41:23.476 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
00:41:23.482 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@16fcea55
00:41:23.482 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
00:41:23.482 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
00:41:23.482 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
00:41:23.482 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
00:41:23.482 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
00:41:23.482 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
00:41:23.482 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
00:41:23.490 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
00:41:23.490 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
00:41:23.490 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
00:41:23.490 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
00:41:23.490 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:41:23.490 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:41:23.491 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:41:23.499 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:41:23.510 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f9d0a49] was not registered for synchronization because synchronization is not active
00:41:23.903 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@70ef8ef0]]] will not be managed by Spring
00:41:23.906 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:41:23.921 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:41:23.935 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:41:23.935 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:41:23.935 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:41:23.939 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f9d0a49]
00:41:23.939 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
00:41:23.940 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
00:41:23.940 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
00:41:23.941 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@37be12cf'
00:41:23.941 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
00:41:23.941 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@7c9b78e3
00:41:23.941 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
00:41:23.941 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
00:41:23.941 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
00:41:23.941 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@37be12cf
00:41:23.944 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6e7401ac, returned: 1
00:41:23.944 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
00:41:23.944 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
00:41:23.944 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
00:41:23.944 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:41:23.944 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:41:23.944 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:41:23.945 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:41:23.945 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@264d637e] was not registered for synchronization because synchronization is not active
00:41:23.945 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@70ef8ef0]]] will not be managed by Spring
00:41:23.945 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:41:23.945 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:41:23.946 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:41:23.946 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:41:23.950 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:41:23.950 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@264d637e]
00:41:23.965 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:41:23.965 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a76acb2] was not registered for synchronization because synchronization is not active
00:41:23.965 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@70ef8ef0]]] will not be managed by Spring
00:41:23.965 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id 
00:41:23.965 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
00:41:23.967 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
00:41:23.967 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
00:41:23.969 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 1
00:41:23.970 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a76acb2]
00:41:24.012 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
00:41:24.012 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
00:43:14.470 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 14188 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
00:43:14.472 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
00:43:14.472 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
00:43:14.697 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
00:43:14.877 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
00:43:14.877 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
00:43:14.877 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
00:43:14.877 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
00:43:14.877 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
00:43:14.877 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
00:43:14.877 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
00:43:14.877 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
00:43:14.877 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
00:43:15.573 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
00:43:15.579 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
00:43:15.666 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
00:43:15.670 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1155 ms
00:43:15.977 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
00:43:16.475 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
00:43:16.481 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
00:43:16.485 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
00:43:16.486 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
00:43:16.486 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
00:43:16.486 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
00:43:16.490 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
00:43:16.558 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
00:43:16.566 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
00:43:16.575 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
00:43:16.622 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
00:43:16.622 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
00:43:16.754 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$7a99c483@32fdec40}
00:43:16.833 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
00:43:16.847 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
00:43:16.848 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
00:43:16.852 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@682c1e93, org.springframework.security.web.context.SecurityContextPersistenceFilter@2189e7a7, org.springframework.security.web.header.HeaderWriterFilter@56781d96, org.springframework.security.web.authentication.logout.LogoutFilter@6f012914, at.sparklingscience.urbantrees.security.ApiKeyFilter@3040c885, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6331250e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f462e3b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27068a50, org.springframework.security.web.session.SessionManagementFilter@25c5e994, org.springframework.security.web.access.ExceptionTranslationFilter@648ee871, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@286b39c2]
00:43:16.898 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
00:43:16.899 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String)
00:43:16.901 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
00:43:16.901 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
00:43:16.958 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 00:43:14 CET 2017]; root of context hierarchy
00:43:17.009 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
00:43:17.377 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.227 seconds (JVM running for 3.501)
00:43:19.296 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
00:43:19.300 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
00:43:19.320 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 16 ms
00:43:19.327 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
00:43:19.327 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
00:43:19.328 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
00:43:19.333 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5c444198
00:43:19.333 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
00:43:19.333 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
00:43:19.333 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
00:43:19.334 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
00:43:19.334 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
00:43:19.334 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
00:43:19.334 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
00:43:19.338 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
00:43:19.338 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
00:43:19.338 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
00:43:19.338 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
00:43:19.338 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:43:19.338 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:43:19.338 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:43:19.343 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:43:19.351 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676aa4d3] was not registered for synchronization because synchronization is not active
00:43:19.853 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@712945d9]]] will not be managed by Spring
00:43:19.855 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:43:19.870 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:43:19.881 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:43:19.882 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:43:19.882 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:43:19.885 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676aa4d3]
00:43:19.886 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
00:43:19.886 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
00:43:19.886 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
00:43:19.887 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@4b6272e0'
00:43:19.887 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
00:43:19.887 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2bc12da
00:43:19.887 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
00:43:19.887 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
00:43:19.887 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
00:43:19.887 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@4b6272e0
00:43:19.890 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@44c72912, returned: 1
00:43:19.890 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
00:43:19.890 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
00:43:19.890 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
00:43:19.890 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:43:19.890 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:43:19.890 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:43:19.890 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:43:19.891 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3de6eb44] was not registered for synchronization because synchronization is not active
00:43:19.891 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@712945d9]]] will not be managed by Spring
00:43:19.891 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:43:19.891 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:43:19.891 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:43:19.891 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:43:19.896 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:43:19.896 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3de6eb44]
00:43:19.910 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:43:19.910 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd9d070] was not registered for synchronization because synchronization is not active
00:43:19.910 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@712945d9]]] will not be managed by Spring
00:43:19.910 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id 
00:43:19.910 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
00:43:19.912 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
00:43:19.912 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
00:43:19.913 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd9d070]
00:43:19.914 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
00:43:19.916 [http-nio-80-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: java.lang.UnsupportedOperationException
### The error may exist in file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]
### The error may involve at.sparklingscience.urbantrees.mapper.PhysiognomyMapper.findPhysiognomyByTreeId
### The error occurred while handling results
### SQL: select       p.tree_id,       p.tree_height,       p.trunk_circumference,       p.crown_base,       p.crown_width,       p.observe_dat   from       tree_data.tree t,       tree_data.physiognomy p   where       t.id = ?       and t.id = p.tree_id
### Cause: java.lang.UnsupportedOperationException] with root cause
java.lang.UnsupportedOperationException: null
	at org.apache.ibatis.reflection.wrapper.CollectionWrapper.set(CollectionWrapper.java:43)
	at org.apache.ibatis.reflection.MetaObject.setValue(MetaObject.java:140)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyPropertyMappings(DefaultResultSetHandler.java:450)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:399)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(DefaultResultSetHandler.java:351)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:326)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:299)
	at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:192)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy60.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:230)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:137)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy65.findPhysiognomyByTreeId(Unknown Source)
	at at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(TreeController.java:40)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
00:49:41.911 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 5400 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
00:49:41.912 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
00:49:41.913 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
00:49:42.141 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
00:49:42.346 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
00:49:42.347 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
00:49:42.347 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
00:49:42.347 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
00:49:42.347 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
00:49:42.347 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
00:49:42.347 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
00:49:42.347 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
00:49:42.347 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
00:49:43.036 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
00:49:43.043 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
00:49:43.126 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
00:49:43.133 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1177 ms
00:49:43.412 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
00:49:43.898 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
00:49:43.900 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
00:49:43.900 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
00:49:43.901 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
00:49:43.901 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
00:49:43.901 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
00:49:43.906 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
00:49:43.976 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
00:49:43.983 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
00:49:43.990 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
00:49:44.035 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
00:49:44.035 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
00:49:44.165 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$a8382fff@4ad4936c}
00:49:44.236 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
00:49:44.251 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
00:49:44.252 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
00:49:44.256 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@11653e3b, org.springframework.security.web.context.SecurityContextPersistenceFilter@70325d20, org.springframework.security.web.header.HeaderWriterFilter@6331250e, org.springframework.security.web.authentication.logout.LogoutFilter@720653c2, at.sparklingscience.urbantrees.security.ApiKeyFilter@497d62e0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d847d32, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@726a6b94, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@715fb77, org.springframework.security.web.session.SessionManagementFilter@644abb8f, org.springframework.security.web.access.ExceptionTranslationFilter@5173200b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57bd802b]
00:49:44.309 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
00:49:44.309 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String)
00:49:44.311 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
00:49:44.312 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
00:49:44.370 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 00:49:41 CET 2017]; root of context hierarchy
00:49:44.405 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
00:49:44.779 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.218 seconds (JVM running for 3.499)
00:49:46.893 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
00:49:46.897 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
00:49:46.914 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 14 ms
00:49:46.920 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
00:49:46.921 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
00:49:46.922 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
00:49:46.926 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@4262087e
00:49:46.926 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
00:49:46.926 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
00:49:46.926 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
00:49:46.926 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
00:49:46.926 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
00:49:46.926 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
00:49:46.926 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
00:49:46.930 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
00:49:46.930 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
00:49:46.930 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
00:49:46.930 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
00:49:46.930 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:49:46.930 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:49:46.930 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:49:46.935 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:49:46.943 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@566bebc9] was not registered for synchronization because synchronization is not active
00:49:47.307 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@5333d4ee]]] will not be managed by Spring
00:49:47.309 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:49:47.329 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:49:47.348 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:49:47.348 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:49:47.349 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:49:47.352 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@566bebc9]
00:49:47.352 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
00:49:47.352 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
00:49:47.353 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
00:49:47.353 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@5e3d4cd1'
00:49:47.353 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
00:49:47.353 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@591fd34d
00:49:47.353 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
00:49:47.353 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
00:49:47.354 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
00:49:47.354 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@5e3d4cd1
00:49:47.356 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@5ae2dfb5, returned: 1
00:49:47.356 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
00:49:47.356 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
00:49:47.356 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
00:49:47.357 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:49:47.357 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:49:47.357 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:49:47.357 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:49:47.357 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54c15ad3] was not registered for synchronization because synchronization is not active
00:49:47.357 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@5333d4ee]]] will not be managed by Spring
00:49:47.357 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:49:47.357 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:49:47.358 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:49:47.358 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:49:47.362 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:49:47.362 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54c15ad3]
00:49:47.375 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:49:47.375 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20398131] was not registered for synchronization because synchronization is not active
00:49:47.375 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@5333d4ee]]] will not be managed by Spring
00:49:47.375 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id 
00:49:47.375 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
00:49:47.377 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
00:49:47.377 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
00:49:47.378 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 1
00:49:47.378 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20398131]
00:49:47.395 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
00:49:47.395 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
00:50:23.299 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 3932 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
00:50:23.301 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
00:50:23.301 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
00:50:23.533 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
00:50:23.749 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
00:50:23.749 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
00:50:23.749 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
00:50:23.750 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
00:50:23.750 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
00:50:23.750 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
00:50:23.750 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
00:50:23.750 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
00:50:23.750 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
00:50:24.443 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
00:50:24.450 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
00:50:24.542 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
00:50:24.548 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1200 ms
00:50:24.842 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
00:50:25.383 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
00:50:25.389 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
00:50:25.394 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
00:50:25.394 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
00:50:25.394 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
00:50:25.395 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
00:50:25.400 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
00:50:25.470 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
00:50:25.480 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
00:50:25.490 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
00:50:25.540 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
00:50:25.540 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
00:50:25.701 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$3cc26d2@4fcc529}
00:50:25.775 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
00:50:25.786 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
00:50:25.786 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
00:50:25.790 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b9c1b51, org.springframework.security.web.context.SecurityContextPersistenceFilter@4d847d32, org.springframework.security.web.header.HeaderWriterFilter@644abb8f, org.springframework.security.web.authentication.logout.LogoutFilter@6ad5923a, at.sparklingscience.urbantrees.security.ApiKeyFilter@1c84ef01, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d7fa3ae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@522b2631, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e52fb3e, org.springframework.security.web.session.SessionManagementFilter@70325d20, org.springframework.security.web.access.ExceptionTranslationFilter@378bd86d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2c779e5]
00:50:25.837 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
00:50:25.838 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String)
00:50:25.840 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
00:50:25.840 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
00:50:25.892 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 00:50:23 CET 2017]; root of context hierarchy
00:50:25.952 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
00:50:26.317 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.351 seconds (JVM running for 3.615)
00:50:30.206 [http-nio-80-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
00:50:30.211 [http-nio-80-exec-3] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
00:50:30.228 [http-nio-80-exec-3] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 14 ms
00:50:30.234 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
00:50:30.235 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
00:50:30.236 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
00:50:30.241 [http-nio-80-exec-3] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5ebbbf37
00:50:30.241 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
00:50:30.241 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
00:50:30.241 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
00:50:30.241 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
00:50:30.241 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
00:50:30.241 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
00:50:30.242 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
00:50:30.246 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
00:50:30.246 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
00:50:30.246 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
00:50:30.246 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
00:50:30.246 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:50:30.246 [http-nio-80-exec-3] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:50:30.246 [http-nio-80-exec-3] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:50:30.251 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:50:30.258 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14e9cd6d] was not registered for synchronization because synchronization is not active
00:50:30.612 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6b000243]]] will not be managed by Spring
00:50:30.614 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:50:30.629 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:50:30.642 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:50:30.642 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:50:30.642 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:50:30.646 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14e9cd6d]
00:50:30.646 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
00:50:30.646 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
00:50:30.647 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
00:50:30.647 [http-nio-80-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@14864ec4'
00:50:30.647 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
00:50:30.647 [http-nio-80-exec-3] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@7c9b78e3
00:50:30.647 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
00:50:30.647 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
00:50:30.648 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
00:50:30.648 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@14864ec4
00:50:30.650 [http-nio-80-exec-3] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2bbec07c, returned: 1
00:50:30.650 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
00:50:30.650 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
00:50:30.650 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
00:50:30.651 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:50:30.651 [http-nio-80-exec-3] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:50:30.651 [http-nio-80-exec-3] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:50:30.651 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:50:30.651 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48dd1f21] was not registered for synchronization because synchronization is not active
00:50:30.651 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6b000243]]] will not be managed by Spring
00:50:30.651 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:50:30.651 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:50:30.652 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:50:30.652 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:50:30.655 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:50:30.655 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48dd1f21]
00:50:30.669 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:50:30.669 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@111fbc66] was not registered for synchronization because synchronization is not active
00:50:30.669 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6b000243]]] will not be managed by Spring
00:50:30.669 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id 
00:50:30.669 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
00:50:30.671 [http-nio-80-exec-3] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
00:50:30.671 [http-nio-80-exec-3] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
00:50:30.672 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 1
00:50:30.672 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@111fbc66]
00:50:30.711 [http-nio-80-exec-3] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
00:50:30.711 [http-nio-80-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
00:52:15.778 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
00:52:15.783 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
00:52:15.783 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
00:52:15.788 [http-nio-80-exec-5] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5ebbbf37
00:52:15.788 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
00:52:15.788 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
00:52:15.788 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
00:52:15.788 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
00:52:15.788 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
00:52:15.788 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
00:52:15.788 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
00:52:15.788 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
00:52:15.788 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
00:52:15.788 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
00:52:15.788 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
00:52:15.788 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:52:15.788 [http-nio-80-exec-5] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:52:15.788 [http-nio-80-exec-5] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:52:15.789 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:52:15.794 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ecf5195] was not registered for synchronization because synchronization is not active
00:52:15.795 [http-nio-80-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6b000243]]] will not be managed by Spring
00:52:15.796 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:52:15.796 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:52:15.797 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:52:15.797 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:52:15.797 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:52:15.797 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ecf5195]
00:52:15.797 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
00:52:15.797 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
00:52:15.797 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
00:52:15.797 [http-nio-80-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@24003416'
00:52:15.797 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
00:52:15.797 [http-nio-80-exec-5] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@7c9b78e3
00:52:15.797 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
00:52:15.797 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
00:52:15.797 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
00:52:15.797 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@24003416
00:52:15.798 [http-nio-80-exec-5] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2bbec07c, returned: 1
00:52:15.798 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
00:52:15.798 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
00:52:15.798 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
00:52:15.798 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
00:52:15.798 [http-nio-80-exec-5] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
00:52:15.798 [http-nio-80-exec-5] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
00:52:15.798 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:52:15.798 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ecf1e87] was not registered for synchronization because synchronization is not active
00:52:15.798 [http-nio-80-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6b000243]]] will not be managed by Spring
00:52:15.799 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
00:52:15.799 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
00:52:15.799 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
00:52:15.799 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
00:52:15.804 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
00:52:15.804 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ecf1e87]
00:52:15.805 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
00:52:15.805 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@616ceedd] was not registered for synchronization because synchronization is not active
00:52:15.805 [http-nio-80-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6b000243]]] will not be managed by Spring
00:52:15.805 [http-nio-80-exec-5] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id 
00:52:15.805 [http-nio-80-exec-5] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
00:52:15.806 [http-nio-80-exec-5] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
00:52:15.806 [http-nio-80-exec-5] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
00:52:15.806 [http-nio-80-exec-5] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1006, 151, 326, 491, 2017-12-27 00:00:00
00:52:15.807 [http-nio-80-exec-5] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 2
00:52:15.807 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@616ceedd]
00:52:15.808 [http-nio-80-exec-5] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
00:52:15.808 [http-nio-80-exec-5] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:01:21.022 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 220 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
20:01:21.022 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
20:01:21.022 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
20:01:21.302 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
20:01:21.556 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
20:01:21.556 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
20:01:21.556 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
20:01:21.557 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
20:01:21.557 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
20:01:21.557 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
20:01:21.557 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
20:01:21.557 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
20:01:21.557 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
20:01:22.328 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
20:01:22.334 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
20:01:22.702 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
20:01:22.718 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1649 ms
20:01:23.003 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
20:01:23.542 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
20:01:23.551 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
20:01:23.551 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
20:01:23.551 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
20:01:23.568 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
20:01:23.569 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
20:01:23.570 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
20:01:23.688 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
20:01:23.688 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
20:01:23.704 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
20:01:23.757 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
20:01:23.757 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
20:01:23.926 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$13a54866@7882c44a}
20:01:24.004 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
20:01:24.027 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:01:24.027 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:01:24.027 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1eea9d2d, org.springframework.security.web.context.SecurityContextPersistenceFilter@187eb9a8, org.springframework.security.web.header.HeaderWriterFilter@3d7fa3ae, org.springframework.security.web.authentication.logout.LogoutFilter@13d186db, at.sparklingscience.urbantrees.security.ApiKeyFilter@c297441, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ad11a56, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69ce2f62, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60921b21, org.springframework.security.web.session.SessionManagementFilter@3605c4d3, org.springframework.security.web.access.ExceptionTranslationFilter@1a411233, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@68e62ca4]
20:01:24.069 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
20:01:24.069 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String)
20:01:24.069 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
20:01:24.069 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
20:01:24.127 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 20:01:21 CET 2017]; root of context hierarchy
20:01:24.174 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
20:01:24.552 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.966 seconds (JVM running for 5.111)
20:01:26.831 [http-nio-80-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
20:01:26.846 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
20:01:26.850 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 0 ms
20:01:26.875 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:01:26.875 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:01:26.877 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:01:26.879 [http-nio-80-exec-1] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@182ba8c5
20:01:26.879 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:01:26.879 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:01:26.879 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:01:26.879 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:01:26.879 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:01:26.879 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:01:26.879 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:01:26.879 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:01:26.879 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:01:26.879 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:01:26.879 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:01:26.879 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:01:26.879 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:01:26.879 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:01:26.895 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:01:26.895 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c531286] was not registered for synchronization because synchronization is not active
20:01:27.311 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@457e0470]]] will not be managed by Spring
20:01:27.311 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:01:27.327 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:01:27.358 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:01:27.358 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:01:27.358 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:01:27.358 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c531286]
20:01:27.358 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:01:27.358 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:01:27.374 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:01:27.374 [http-nio-80-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@36242293'
20:01:27.374 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:01:27.374 [http-nio-80-exec-1] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@45394b31
20:01:27.374 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:01:27.374 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:01:27.375 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
20:01:27.375 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@36242293
20:01:27.379 [http-nio-80-exec-1] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2bd5dd36, returned: 1
20:01:27.379 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:01:27.379 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:01:27.379 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
20:01:27.379 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:01:27.379 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:01:27.379 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:01:27.379 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:01:27.379 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd8f632] was not registered for synchronization because synchronization is not active
20:01:27.379 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@457e0470]]] will not be managed by Spring
20:01:27.380 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:01:27.380 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:01:27.380 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:01:27.380 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:01:27.380 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:01:27.380 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bd8f632]
20:01:27.396 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:01:27.396 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a823d54] was not registered for synchronization because synchronization is not active
20:01:27.396 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@457e0470]]] will not be managed by Spring
20:01:27.396 [http-nio-80-exec-1] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id 
20:01:27.396 [http-nio-80-exec-1] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
20:01:27.411 [http-nio-80-exec-1] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
20:01:27.411 [http-nio-80-exec-1] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
20:01:27.411 [http-nio-80-exec-1] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1006, 151, 326, 491, 2017-12-27 00:00:00
20:01:27.411 [http-nio-80-exec-1] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 2
20:01:27.411 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a823d54]
20:01:27.443 [http-nio-80-exec-1] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
20:01:27.443 [http-nio-80-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:42:24.273 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 6884 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
20:42:24.273 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
20:42:24.273 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
20:42:24.683 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
20:42:24.924 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
20:42:24.925 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
20:42:24.925 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
20:42:24.926 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
20:42:24.926 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
20:42:24.926 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
20:42:24.926 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
20:42:24.926 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
20:42:24.926 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
20:42:25.946 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
20:42:25.952 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
20:42:26.064 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
20:42:26.069 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1725 ms
20:42:26.438 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
20:42:26.902 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
20:42:26.908 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
20:42:26.912 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
20:42:26.913 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
20:42:26.917 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
20:42:26.918 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
20:42:26.966 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
20:42:27.079 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
20:42:27.100 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
20:42:27.109 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
20:42:27.167 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
20:42:27.167 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
20:42:27.172 [main] WARN  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'treeController' defined in file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\controller\TreeController.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [at.sparklingscience.urbantrees.controller.TreeController]: Constructor threw exception; nested exception is java.lang.NullPointerException
20:42:27.172 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
20:42:27.203 [main] ERROR o.s.boot.SpringApplication - Application startup failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'treeController' defined in file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\controller\TreeController.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [at.sparklingscience.urbantrees.controller.TreeController]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)
	at at.sparklingscience.urbantrees.UrbantreesApplication.main(UrbantreesApplication.java:20)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [at.sparklingscience.urbantrees.controller.TreeController]: Constructor threw exception; nested exception is java.lang.NullPointerException
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:154)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1147)
	... 17 common frames omitted
Caused by: java.lang.NullPointerException: null
	at java.text.SimpleDateFormat.<init>(SimpleDateFormat.java:598)
	at java.text.SimpleDateFormat.<init>(SimpleDateFormat.java:580)
	at at.sparklingscience.urbantrees.controller.TreeController.<init>(TreeController.java:58)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142)
	... 19 common frames omitted
20:46:45.652 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 10448 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
20:46:45.667 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
20:46:45.667 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
20:46:45.902 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
20:46:46.148 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
20:46:46.148 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
20:46:46.148 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
20:46:46.148 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
20:46:46.148 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
20:46:46.148 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
20:46:46.148 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
20:46:46.148 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
20:46:46.148 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
20:46:47.020 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
20:46:47.028 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
20:46:47.128 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
20:46:47.133 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1412 ms
20:46:47.469 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
20:46:48.094 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
20:46:48.101 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
20:46:48.107 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
20:46:48.107 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
20:46:48.111 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
20:46:48.111 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
20:46:48.116 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
20:46:48.203 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
20:46:48.215 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
20:46:48.223 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
20:46:48.282 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
20:46:48.282 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
20:47:19.136 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 9032 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
20:47:19.136 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
20:47:19.136 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
20:47:19.384 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
20:47:19.621 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
20:47:19.623 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
20:47:19.623 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
20:47:19.624 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
20:47:19.624 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
20:47:19.624 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
20:47:19.624 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
20:47:19.624 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
20:47:19.624 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
20:47:20.498 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
20:47:20.506 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
20:47:20.608 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
20:47:20.613 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1424 ms
20:47:20.978 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
20:47:21.474 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
20:47:21.474 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
20:47:21.493 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
20:47:21.493 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
20:47:21.496 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
20:47:21.496 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
20:47:21.496 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
20:47:21.572 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
20:47:21.572 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
20:47:21.596 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
20:47:21.643 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
20:47:21.643 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
20:48:17.791 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 1312 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
20:48:17.791 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
20:48:17.791 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
20:48:18.055 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
20:48:18.273 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
20:48:18.282 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
20:48:18.282 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
20:48:18.282 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
20:48:18.282 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
20:48:18.282 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
20:48:18.282 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
20:48:18.282 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
20:48:18.282 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
20:48:19.118 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
20:48:19.125 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
20:48:19.233 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
20:48:19.238 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1385 ms
20:48:19.633 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
20:48:20.141 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
20:48:20.146 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
20:48:20.150 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
20:48:20.151 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
20:48:20.154 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
20:48:20.154 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
20:48:20.154 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
20:48:20.226 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
20:48:20.244 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
20:48:20.251 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
20:48:20.301 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
20:48:20.301 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
20:48:20.533 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$249a19e7@2f1d0bbc}
20:48:20.635 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
20:48:20.656 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:48:20.656 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:48:20.656 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ff8a9dc, org.springframework.security.web.context.SecurityContextPersistenceFilter@7544ac86, org.springframework.security.web.header.HeaderWriterFilter@984169e, org.springframework.security.web.authentication.logout.LogoutFilter@f5b6e78, at.sparklingscience.urbantrees.security.ApiKeyFilter@422b535, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20f6f88c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2687725a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2cde651b, org.springframework.security.web.session.SessionManagementFilter@6d6bbd35, org.springframework.security.web.access.ExceptionTranslationFilter@17273273, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d64c100]
20:48:20.725 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
20:48:20.726 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
20:48:20.726 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
20:48:20.726 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
20:48:20.726 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
20:48:20.802 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2b175c00: startup date [Thu Dec 28 20:48:17 CET 2017]; root of context hierarchy
20:48:20.915 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
20:48:21.407 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 4.001 seconds (JVM running for 4.325)
20:48:27.242 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
20:48:27.255 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
20:48:27.275 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 20 ms
20:48:27.278 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:48:27.278 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:48:27.278 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:48:27.278 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@42d953a
20:48:27.278 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:48:27.278 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:48:27.278 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:48:27.278 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:48:27.278 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:48:27.278 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:48:27.294 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:48:27.294 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:48:27.294 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:48:27.294 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:48:27.294 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:48:27.294 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:48:27.294 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:48:27.294 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:48:27.294 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:48:27.294 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2960a758] was not registered for synchronization because synchronization is not active
20:48:27.678 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@48f60706]]] will not be managed by Spring
20:48:27.694 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:48:27.709 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:48:27.726 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:48:27.726 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:48:27.726 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:48:27.742 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2960a758]
20:48:27.742 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:48:27.742 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:48:27.742 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:48:27.742 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@514e2030'
20:48:27.742 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:48:27.742 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@3b920bdc
20:48:27.742 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:48:27.742 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:48:27.742 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
20:48:27.742 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@514e2030
20:48:27.742 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@799d68b1, returned: 1
20:48:27.742 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:48:27.742 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:48:27.742 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
20:48:27.742 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:48:27.742 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:48:27.742 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:48:27.742 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:48:27.742 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d016f1] was not registered for synchronization because synchronization is not active
20:48:27.742 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@48f60706]]] will not be managed by Spring
20:48:27.742 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:48:27.742 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:48:27.742 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:48:27.742 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:48:27.742 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:48:27.742 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d016f1]
20:48:27.779 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
20:48:27.779 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:49:26.596 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 12540 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
20:49:26.612 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
20:49:26.612 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
20:49:26.859 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
20:49:27.101 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
20:49:27.101 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
20:49:27.101 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
20:49:27.101 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
20:49:27.102 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
20:49:27.102 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
20:49:27.102 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
20:49:27.102 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
20:49:27.102 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
20:49:27.961 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
20:49:27.968 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
20:49:28.072 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
20:49:28.078 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1419 ms
20:49:28.408 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
20:49:29.004 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
20:49:29.010 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
20:49:29.014 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
20:49:29.015 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
20:49:29.019 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
20:49:29.019 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
20:49:29.024 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
20:49:29.105 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
20:49:29.116 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
20:49:29.123 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
20:49:29.178 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
20:49:29.178 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
20:49:29.404 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$1094058c@56a4f272}
20:49:29.512 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
20:49:29.530 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:49:29.531 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:49:29.536 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b0f2299, org.springframework.security.web.context.SecurityContextPersistenceFilter@378f002a, org.springframework.security.web.header.HeaderWriterFilter@7b122839, org.springframework.security.web.authentication.logout.LogoutFilter@26d41711, at.sparklingscience.urbantrees.security.ApiKeyFilter@1690a9f2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2cc75074, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2eeb0f9b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33063f5b, org.springframework.security.web.session.SessionManagementFilter@d277579, org.springframework.security.web.access.ExceptionTranslationFilter@512d6e60, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6ae62c7e]
20:49:29.617 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
20:49:29.618 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
20:49:29.619 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
20:49:29.622 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
20:49:29.623 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
20:49:29.696 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2b175c00: startup date [Thu Dec 28 20:49:26 CET 2017]; root of context hierarchy
20:49:29.792 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
20:49:30.295 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 4.084 seconds (JVM running for 4.387)
20:49:34.331 [http-nio-80-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
20:49:34.337 [http-nio-80-exec-3] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
20:49:34.359 [http-nio-80-exec-3] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
20:49:34.368 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:49:34.368 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:49:34.368 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:49:34.368 [http-nio-80-exec-3] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@74bf3ea7
20:49:34.384 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:49:34.384 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:49:34.384 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:49:34.384 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:49:34.384 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:49:34.384 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:49:34.384 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:49:34.384 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:49:34.384 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:49:34.384 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:49:34.384 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:49:34.384 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:49:34.384 [http-nio-80-exec-3] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:49:34.384 [http-nio-80-exec-3] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:49:34.400 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:49:34.400 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fb86a62] was not registered for synchronization because synchronization is not active
20:49:34.831 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@519af129]]] will not be managed by Spring
20:49:34.831 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:49:34.847 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:49:34.865 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:49:34.865 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:49:34.865 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:49:34.869 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fb86a62]
20:49:34.869 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:49:34.869 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:49:34.869 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:49:34.869 [http-nio-80-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@1e8d9a25'
20:49:34.869 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:49:34.869 [http-nio-80-exec-3] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@3f1ed068
20:49:34.869 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:49:34.869 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:49:34.869 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
20:49:34.869 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@1e8d9a25
20:49:34.869 [http-nio-80-exec-3] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@233d070c, returned: 1
20:49:34.869 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:49:34.869 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:49:34.869 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
20:49:34.869 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:49:34.869 [http-nio-80-exec-3] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:49:34.869 [http-nio-80-exec-3] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:49:34.869 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:49:34.869 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f222c74] was not registered for synchronization because synchronization is not active
20:49:34.869 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@519af129]]] will not be managed by Spring
20:49:34.869 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:49:34.869 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:49:34.869 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:49:34.869 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:49:34.869 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:49:34.869 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f222c74]
20:49:54.805 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 9256 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
20:49:54.805 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
20:49:54.805 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
20:49:55.067 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
20:49:55.300 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
20:49:55.300 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
20:49:55.300 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
20:49:55.301 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
20:49:55.301 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
20:49:55.301 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
20:49:55.301 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
20:49:55.301 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
20:49:55.301 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
20:49:56.184 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
20:49:56.189 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
20:49:56.296 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
20:49:56.302 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1459 ms
20:49:56.693 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
20:49:57.213 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
20:49:57.220 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
20:49:57.226 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
20:49:57.227 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
20:49:57.227 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
20:49:57.227 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
20:49:57.227 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
20:49:57.311 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
20:49:57.318 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
20:49:57.339 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
20:49:57.393 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
20:49:57.393 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
20:49:57.649 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$8261d4fc@12fcc71f}
20:49:57.771 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
20:49:57.801 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:49:57.804 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:49:57.812 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6614bd4b, org.springframework.security.web.context.SecurityContextPersistenceFilter@1de9b505, org.springframework.security.web.header.HeaderWriterFilter@6c841199, org.springframework.security.web.authentication.logout.LogoutFilter@6ada9c0c, at.sparklingscience.urbantrees.security.ApiKeyFilter@3d56d158, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3743539f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a81065e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d266391, org.springframework.security.web.session.SessionManagementFilter@489091bd, org.springframework.security.web.access.ExceptionTranslationFilter@b1534d3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@503df2d0]
20:49:57.883 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
20:49:57.884 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
20:49:57.884 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
20:49:57.888 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
20:49:57.888 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
20:49:57.990 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2b175c00: startup date [Thu Dec 28 20:49:54 CET 2017]; root of context hierarchy
20:49:58.101 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
20:49:58.662 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 4.241 seconds (JVM running for 4.556)
20:49:59.018 [http-nio-80-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
20:49:59.023 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
20:49:59.047 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 24 ms
20:49:59.062 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:49:59.062 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:49:59.070 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:49:59.070 [http-nio-80-exec-1] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@745f6976
20:49:59.070 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:49:59.070 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:49:59.070 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:49:59.071 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:49:59.071 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:49:59.071 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:49:59.075 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:49:59.075 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:49:59.075 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:49:59.075 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:49:59.075 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:49:59.075 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:49:59.075 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:49:59.075 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:49:59.086 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:49:59.089 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d35f4f8] was not registered for synchronization because synchronization is not active
20:49:59.620 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@120b616]]] will not be managed by Spring
20:49:59.623 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:49:59.647 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:49:59.661 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:49:59.661 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:49:59.662 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:49:59.666 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d35f4f8]
20:49:59.666 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:49:59.666 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:49:59.667 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:49:59.668 [http-nio-80-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@222fd29c'
20:49:59.668 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:49:59.668 [http-nio-80-exec-1] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6edf29c1
20:49:59.668 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:49:59.668 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:49:59.668 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
20:49:59.668 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@222fd29c
20:49:59.672 [http-nio-80-exec-1] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1d63ecfd, returned: 1
20:49:59.672 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:49:59.672 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:49:59.672 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
20:49:59.672 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:49:59.672 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:49:59.672 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:49:59.672 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:49:59.672 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2620882a] was not registered for synchronization because synchronization is not active
20:49:59.673 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@120b616]]] will not be managed by Spring
20:49:59.673 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:49:59.673 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:49:59.674 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:49:59.680 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:49:59.680 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:49:59.680 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2620882a]
20:50:25.405 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 328 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
20:50:25.405 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
20:50:25.405 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
20:50:25.658 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
20:50:25.859 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
20:50:25.871 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
20:50:25.871 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
20:50:25.871 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
20:50:25.871 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
20:50:25.871 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
20:50:25.871 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
20:50:25.871 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
20:50:25.871 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
20:50:26.710 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
20:50:26.716 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
20:50:26.807 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
20:50:26.813 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1355 ms
20:50:27.149 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
20:50:27.738 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
20:50:27.744 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
20:50:27.750 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
20:50:27.751 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
20:50:27.751 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
20:50:27.751 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
20:50:27.756 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
20:50:27.837 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
20:50:27.853 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
20:50:27.864 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
20:50:27.928 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
20:50:27.928 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
20:50:28.151 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$1a85da8f@4b6e1c0}
20:50:28.283 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
20:50:28.299 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:50:28.300 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:50:28.309 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b74b35, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e9469b8, org.springframework.security.web.header.HeaderWriterFilter@7a485a36, org.springframework.security.web.authentication.logout.LogoutFilter@6cd3ad8a, at.sparklingscience.urbantrees.security.ApiKeyFilter@1df0439a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57272109, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d6bbd35, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e4e1ef5, org.springframework.security.web.session.SessionManagementFilter@625dfff3, org.springframework.security.web.access.ExceptionTranslationFilter@64db4967, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2100d047]
20:50:28.391 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
20:50:28.392 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
20:50:28.393 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
20:50:28.396 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
20:50:28.397 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
20:50:28.474 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2b175c00: startup date [Thu Dec 28 20:50:25 CET 2017]; root of context hierarchy
20:50:28.525 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
20:50:29.194 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 4.174 seconds (JVM running for 4.495)
20:50:29.623 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
20:50:29.630 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
20:50:29.655 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 25 ms
20:50:29.673 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:50:29.674 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:50:29.685 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:50:29.685 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2fb15486
20:50:29.685 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:50:29.685 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:50:29.686 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:50:29.686 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:50:29.686 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:50:29.686 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:50:29.693 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:50:29.693 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:50:29.693 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:50:29.693 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:50:29.693 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:50:29.693 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:50:29.693 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:50:29.693 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:50:29.707 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:50:29.713 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67afe91a] was not registered for synchronization because synchronization is not active
20:50:30.135 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6a790294]]] will not be managed by Spring
20:50:30.135 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:50:30.165 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:50:30.165 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:50:30.165 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:50:30.165 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:50:30.181 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67afe91a]
20:50:30.181 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:50:30.181 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:50:30.181 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:50:30.181 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@1791c03a'
20:50:30.181 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:50:30.181 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1a1f5f71
20:50:30.181 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:50:30.181 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:50:30.181 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
20:50:30.181 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@1791c03a
20:50:30.181 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2cec7c67, returned: 1
20:50:30.181 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:50:30.181 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:50:30.181 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
20:50:30.181 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:50:30.181 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:50:30.181 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:50:30.181 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:50:30.181 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7696f8aa] was not registered for synchronization because synchronization is not active
20:50:30.181 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6a790294]]] will not be managed by Spring
20:50:30.181 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:50:30.181 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:50:30.181 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:50:30.181 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:50:30.181 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:50:30.181 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7696f8aa]
20:50:41.177 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:50:41.196 [http-nio-80-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at java.text.SimpleDateFormat.parse(SimpleDateFormat.java:1439)
	at java.text.DateFormat.parse(DateFormat.java:364)
	at at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(TreeController.java:75)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
20:54:21.358 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 13568 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
20:54:21.358 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
20:54:21.358 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
20:54:21.575 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
20:54:21.791 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
20:54:21.791 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
20:54:21.791 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
20:54:21.791 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
20:54:21.791 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
20:54:21.791 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
20:54:21.791 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
20:54:21.791 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
20:54:21.791 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
20:54:22.514 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
20:54:22.520 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
20:54:22.603 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
20:54:22.607 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1202 ms
20:54:22.892 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
20:54:23.445 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
20:54:23.453 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
20:54:23.460 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
20:54:23.460 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
20:54:23.461 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
20:54:23.461 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
20:54:23.467 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
20:54:23.547 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
20:54:23.561 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
20:54:23.571 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
20:54:23.619 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
20:54:23.619 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
20:54:23.773 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$77ad0e4a@4351171a}
20:54:23.859 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
20:54:23.867 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:54:23.867 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:54:23.867 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c025cb, org.springframework.security.web.context.SecurityContextPersistenceFilter@3703bf3c, org.springframework.security.web.header.HeaderWriterFilter@baf1bb3, org.springframework.security.web.authentication.logout.LogoutFilter@175acfb2, at.sparklingscience.urbantrees.security.ApiKeyFilter@5fe59745, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b3f3ba0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5eeedb60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50825a02, org.springframework.security.web.session.SessionManagementFilter@25d958c6, org.springframework.security.web.access.ExceptionTranslationFilter@7004e3d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30cecdca]
20:54:23.917 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
20:54:23.924 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
20:54:23.925 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
20:54:23.926 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
20:54:23.926 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
20:54:23.987 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 20:54:21 CET 2017]; root of context hierarchy
20:54:24.035 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
20:54:24.482 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.44 seconds (JVM running for 3.711)
20:54:25.002 [http-nio-80-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
20:54:25.006 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
20:54:25.019 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 13 ms
20:54:25.025 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:54:25.026 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:54:25.032 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:54:25.032 [http-nio-80-exec-1] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@321405fd
20:54:25.032 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:54:25.032 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:54:25.032 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:54:25.032 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:54:25.032 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:54:25.032 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:54:25.037 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:54:25.037 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:54:25.037 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:54:25.037 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:54:25.037 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:54:25.037 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:54:25.037 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:54:25.037 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:54:25.047 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:54:25.051 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bf93b05] was not registered for synchronization because synchronization is not active
20:54:25.439 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@4c9527b0]]] will not be managed by Spring
20:54:25.439 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:54:25.454 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:54:25.470 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:54:25.470 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:54:25.470 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:54:25.470 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bf93b05]
20:54:25.470 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:54:25.470 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:54:25.470 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:54:25.470 [http-nio-80-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@62b3f161'
20:54:25.470 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:54:25.470 [http-nio-80-exec-1] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@511d5d04
20:54:25.470 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:54:25.470 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:54:25.470 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
20:54:25.470 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@62b3f161
20:54:25.470 [http-nio-80-exec-1] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@196104a6, returned: 1
20:54:25.470 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:54:25.470 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:54:25.470 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
20:54:25.470 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:54:25.470 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:54:25.470 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:54:25.470 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:54:25.470 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3023324f] was not registered for synchronization because synchronization is not active
20:54:25.470 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@4c9527b0]]] will not be managed by Spring
20:54:25.470 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:54:25.470 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:54:25.470 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:54:25.486 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:54:25.486 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:54:25.486 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3023324f]
20:54:25.486 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:54:25.486 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37398f26] was not registered for synchronization because synchronization is not active
20:54:25.517 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37398f26]
20:54:25.517 [http-nio-80-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:54:25.517 [http-nio-80-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'timestampMin' not found. Available parameters are [arg2, arg1, arg0, param3, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'timestampMin' not found. Available parameters are [arg2, arg1, arg0, param3, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:202)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:115)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2671)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:114)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)
	at org.apache.ibatis.ognl.ASTNotEq.getValueBody(ASTNotEq.java:50)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:470)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:434)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:44)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateBoolean(ExpressionEvaluator.java:32)
	at org.apache.ibatis.scripting.xmltags.IfSqlNode.apply(IfSqlNode.java:34)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:33)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:41)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:292)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:81)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy60.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:230)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:137)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy66.findPhysiognomyByTreeId(Unknown Source)
	at at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(TreeController.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
20:55:16.135 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 14208 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
20:55:16.135 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
20:55:16.135 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
20:55:16.372 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
20:55:16.572 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
20:55:16.577 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
20:55:16.577 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
20:55:16.577 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
20:55:16.577 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
20:55:16.577 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
20:55:16.577 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
20:55:16.577 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
20:55:16.577 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
20:55:17.354 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
20:55:17.357 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
20:55:17.448 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
20:55:17.454 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1267 ms
20:55:17.765 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
20:55:18.337 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
20:55:18.343 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
20:55:18.349 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
20:55:18.350 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
20:55:18.350 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
20:55:18.350 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
20:55:18.355 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
20:55:18.424 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
20:55:18.435 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
20:55:18.441 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
20:55:18.478 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
20:55:18.478 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
20:55:18.641 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$1286bb8c@1623bbe5}
20:55:18.722 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
20:55:18.727 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:55:18.727 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:55:18.727 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@43cf6ea3, org.springframework.security.web.context.SecurityContextPersistenceFilter@25d958c6, org.springframework.security.web.header.HeaderWriterFilter@588ffeb, org.springframework.security.web.authentication.logout.LogoutFilter@55ea2d70, at.sparklingscience.urbantrees.security.ApiKeyFilter@3052d9c1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3703bf3c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f36b447, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37c5fc56, org.springframework.security.web.session.SessionManagementFilter@baf1bb3, org.springframework.security.web.access.ExceptionTranslationFilter@cda0432, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6079cf5]
20:55:18.778 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
20:55:18.785 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
20:55:18.785 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
20:55:18.787 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
20:55:18.787 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
20:55:18.834 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 20:55:16 CET 2017]; root of context hierarchy
20:55:18.878 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
20:55:19.224 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.407 seconds (JVM running for 3.673)
20:55:19.293 [http-nio-80-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
20:55:19.294 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
20:55:19.308 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 14 ms
20:55:19.315 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:55:19.316 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:55:19.324 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:55:19.325 [http-nio-80-exec-1] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@661174ea
20:55:19.325 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:55:19.325 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:55:19.325 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:55:19.325 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:55:19.325 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:55:19.325 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:55:19.325 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:55:19.325 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:55:19.325 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:55:19.325 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:55:19.325 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:55:19.326 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:55:19.326 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:55:19.326 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:55:19.336 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:55:19.339 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24632cac] was not registered for synchronization because synchronization is not active
20:55:19.726 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@398cfe3]]] will not be managed by Spring
20:55:19.730 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:55:19.750 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:55:19.762 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:55:19.762 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:55:19.763 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:55:19.766 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24632cac]
20:55:19.766 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:55:19.766 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:55:19.767 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:55:19.768 [http-nio-80-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@2d2b8ca4'
20:55:19.768 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:55:19.768 [http-nio-80-exec-1] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6a84bc2a
20:55:19.768 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:55:19.768 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:55:19.768 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
20:55:19.768 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@2d2b8ca4
20:55:19.772 [http-nio-80-exec-1] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@19d34541, returned: 1
20:55:19.772 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:55:19.772 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:55:19.772 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
20:55:19.772 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:55:19.772 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:55:19.772 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:55:19.772 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:55:19.773 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77816c9b] was not registered for synchronization because synchronization is not active
20:55:19.773 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@398cfe3]]] will not be managed by Spring
20:55:19.773 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:55:19.773 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:55:19.774 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:55:19.780 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:55:19.780 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:55:19.780 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77816c9b]
20:55:19.798 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:55:19.798 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48d0676c] was not registered for synchronization because synchronization is not active
20:55:19.817 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48d0676c]
20:55:19.819 [http-nio-80-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:55:19.821 [http-nio-80-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'timespanMin' not found. Available parameters are [arg2, arg1, arg0, param3, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'timespanMin' not found. Available parameters are [arg2, arg1, arg0, param3, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:202)
	at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:115)
	at org.apache.ibatis.ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2671)
	at org.apache.ibatis.ognl.ASTProperty.getValueBody(ASTProperty.java:114)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)
	at org.apache.ibatis.ognl.ASTNotEq.getValueBody(ASTNotEq.java:50)
	at org.apache.ibatis.ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)
	at org.apache.ibatis.ognl.SimpleNode.getValue(SimpleNode.java:258)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:470)
	at org.apache.ibatis.ognl.Ognl.getValue(Ognl.java:434)
	at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:44)
	at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateBoolean(ExpressionEvaluator.java:32)
	at org.apache.ibatis.scripting.xmltags.IfSqlNode.apply(IfSqlNode.java:34)
	at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:33)
	at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:41)
	at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:292)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:81)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy60.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:230)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:137)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy66.findPhysiognomyByTreeId(Unknown Source)
	at at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(TreeController.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
20:58:46.342 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 9384 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
20:58:46.342 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
20:58:46.342 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
20:58:46.558 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
20:58:46.759 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
20:58:46.769 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
20:58:46.769 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
20:58:46.769 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
20:58:46.769 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
20:58:46.770 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
20:58:46.770 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
20:58:46.770 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
20:58:46.770 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
20:58:47.477 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
20:58:47.484 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
20:58:47.569 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
20:58:47.573 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1184 ms
20:58:47.832 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
20:58:48.349 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
20:58:48.351 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
20:58:48.352 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
20:58:48.352 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
20:58:48.353 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
20:58:48.353 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
20:58:48.358 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
20:58:48.421 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
20:58:48.437 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
20:58:48.452 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
20:58:48.484 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
20:58:48.484 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
20:58:48.653 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$c2228eb2@45673f68}
20:58:48.721 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
20:58:48.737 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:58:48.737 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:58:48.737 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5486887b, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c211fd0, org.springframework.security.web.header.HeaderWriterFilter@72805168, org.springframework.security.web.authentication.logout.LogoutFilter@61d01788, at.sparklingscience.urbantrees.security.ApiKeyFilter@3f9a7b83, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d84cb86, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4482469c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5226e402, org.springframework.security.web.session.SessionManagementFilter@27f1bbe0, org.springframework.security.web.access.ExceptionTranslationFilter@6ce90bc5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@27b22f74]
20:58:48.800 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
20:58:48.800 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
20:58:48.801 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
20:58:48.803 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
20:58:48.804 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
20:58:48.868 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 20:58:46 CET 2017]; root of context hierarchy
20:58:48.921 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
20:58:49.337 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.317 seconds (JVM running for 3.576)
20:58:50.401 [http-nio-80-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
20:58:50.408 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
20:58:50.431 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
20:58:50.440 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:58:50.440 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:58:50.447 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:58:50.448 [http-nio-80-exec-1] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@52bd6e3d
20:58:50.448 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:58:50.448 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:58:50.448 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:58:50.448 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:58:50.448 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:58:50.448 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:58:50.453 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:58:50.453 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:58:50.453 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:58:50.453 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:58:50.453 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:58:50.453 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:58:50.453 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:58:50.453 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:58:50.466 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:58:50.469 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c16832d] was not registered for synchronization because synchronization is not active
20:58:50.835 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@57265f9]]] will not be managed by Spring
20:58:50.835 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:58:50.851 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:58:50.851 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:58:50.851 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:58:50.851 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:58:50.866 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c16832d]
20:58:50.866 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:58:50.866 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:58:50.866 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:58:50.866 [http-nio-80-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@2976fef3'
20:58:50.866 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:58:50.866 [http-nio-80-exec-1] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@5432050b
20:58:50.866 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:58:50.866 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:58:50.866 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
20:58:50.866 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@2976fef3
20:58:50.866 [http-nio-80-exec-1] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1fc13bb8, returned: 1
20:58:50.866 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:58:50.866 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:58:50.866 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
20:58:50.866 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:58:50.866 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:58:50.866 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:58:50.866 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:58:50.866 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c78efc8] was not registered for synchronization because synchronization is not active
20:58:50.866 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@57265f9]]] will not be managed by Spring
20:58:50.866 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:58:50.866 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:58:50.866 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:58:50.866 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:58:50.866 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:58:50.866 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c78efc8]
20:58:50.889 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:58:50.889 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d76e13d] was not registered for synchronization because synchronization is not active
20:58:50.905 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d76e13d]
20:58:50.905 [http-nio-80-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:58:50.905 [http-nio-80-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'treeId' not found. Available parameters are [timespanMax, timespanMin, arg0, param3, param1, param2]] with root cause
org.apache.ibatis.binding.BindingException: Parameter 'treeId' not found. Available parameters are [timespanMax, timespanMin, arg0, param3, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:202)
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45)
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122)
	at org.apache.ibatis.executor.BaseExecutor.createCacheKey(BaseExecutor.java:219)
	at org.apache.ibatis.executor.CachingExecutor.createCacheKey(CachingExecutor.java:146)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)
	at com.sun.proxy.$Proxy60.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:230)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:137)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:75)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy66.findPhysiognomyByTreeId(Unknown Source)
	at at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(TreeController.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
20:59:06.396 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 9852 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
20:59:06.397 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
20:59:06.398 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
20:59:06.598 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
20:59:06.799 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
20:59:06.801 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
20:59:06.801 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
20:59:06.801 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
20:59:06.801 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
20:59:06.801 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
20:59:06.801 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
20:59:06.801 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
20:59:06.801 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
20:59:07.478 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
20:59:07.485 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
20:59:07.566 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
20:59:07.570 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1141 ms
20:59:07.832 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
20:59:08.362 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
20:59:08.363 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
20:59:08.364 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
20:59:08.364 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
20:59:08.364 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
20:59:08.365 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
20:59:08.370 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
20:59:08.435 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
20:59:08.445 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
20:59:08.452 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
20:59:08.487 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
20:59:08.487 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
20:59:08.634 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$77ad0e4a@4351171a}
20:59:08.709 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
20:59:08.723 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:59:08.724 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:59:08.727 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c025cb, org.springframework.security.web.context.SecurityContextPersistenceFilter@3703bf3c, org.springframework.security.web.header.HeaderWriterFilter@baf1bb3, org.springframework.security.web.authentication.logout.LogoutFilter@175acfb2, at.sparklingscience.urbantrees.security.ApiKeyFilter@786ed5e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b3f3ba0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5eeedb60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50825a02, org.springframework.security.web.session.SessionManagementFilter@25d958c6, org.springframework.security.web.access.ExceptionTranslationFilter@7004e3d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30cecdca]
20:59:08.771 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
20:59:08.771 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
20:59:08.771 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
20:59:08.771 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
20:59:08.771 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
20:59:08.834 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 20:59:06 CET 2017]; root of context hierarchy
20:59:08.886 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
20:59:09.252 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.18 seconds (JVM running for 3.44)
20:59:10.756 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
20:59:10.762 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
20:59:10.778 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 16 ms
20:59:10.785 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:59:10.785 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:59:10.790 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:59:10.791 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@66a562ae
20:59:10.791 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:59:10.791 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:59:10.791 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:59:10.791 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:59:10.791 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:59:10.791 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:59:10.794 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:59:10.794 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:59:10.794 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:59:10.794 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:59:10.794 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:59:10.794 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:59:10.794 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:59:10.794 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:59:10.794 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:59:10.794 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@374beb01] was not registered for synchronization because synchronization is not active
20:59:11.157 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@75bc6553]]] will not be managed by Spring
20:59:11.157 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:59:11.173 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:59:11.173 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:59:11.173 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:59:11.188 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:59:11.192 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@374beb01]
20:59:11.192 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:59:11.192 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:59:11.193 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:59:11.193 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@6b04c1f6'
20:59:11.193 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:59:11.193 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@511d5d04
20:59:11.193 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:59:11.193 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:59:11.194 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
20:59:11.194 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@6b04c1f6
20:59:11.195 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@66c9db78, returned: 1
20:59:11.195 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:59:11.195 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:59:11.195 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
20:59:11.195 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:59:11.195 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:59:11.195 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:59:11.195 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:59:11.195 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17805dcb] was not registered for synchronization because synchronization is not active
20:59:11.195 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@75bc6553]]] will not be managed by Spring
20:59:11.195 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:59:11.195 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:59:11.195 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:59:11.195 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:59:11.195 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:59:11.195 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17805dcb]
20:59:11.215 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:59:11.215 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@613dcf3c] was not registered for synchronization because synchronization is not active
20:59:11.227 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@75bc6553]]] will not be managed by Spring
20:59:11.227 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id 
20:59:11.227 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
20:59:11.227 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
20:59:11.227 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
20:59:11.227 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1006, 151, 326, 491, 2017-12-27 00:00:00
20:59:11.227 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 2
20:59:11.227 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@613dcf3c]
20:59:11.258 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
20:59:11.258 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:59:58.442 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:59:58.447 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:59:58.447 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:59:58.447 [http-nio-80-exec-3] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@66a562ae
20:59:58.447 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:59:58.447 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:59:58.447 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:59:58.447 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:59:58.447 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:59:58.453 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:59:58.454 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:59:58.454 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:59:58.454 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:59:58.454 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:59:58.454 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:59:58.454 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:59:58.454 [http-nio-80-exec-3] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:59:58.458 [http-nio-80-exec-3] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:59:58.459 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:59:58.459 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2561241b] was not registered for synchronization because synchronization is not active
20:59:58.460 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@75bc6553]]] will not be managed by Spring
20:59:58.460 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:59:58.460 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:59:58.461 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:59:58.461 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:59:58.461 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:59:58.462 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2561241b]
20:59:58.462 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:59:58.462 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:59:58.462 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:59:58.462 [http-nio-80-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@2c7747a7'
20:59:58.462 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:59:58.462 [http-nio-80-exec-3] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@511d5d04
20:59:58.462 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:59:58.462 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:59:58.462 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
20:59:58.462 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@2c7747a7
20:59:58.462 [http-nio-80-exec-3] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@66c9db78, returned: 1
20:59:58.462 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:59:58.462 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:59:58.462 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
20:59:58.462 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:59:58.462 [http-nio-80-exec-3] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:59:58.463 [http-nio-80-exec-3] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:59:58.463 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:59:58.463 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19c5c4e8] was not registered for synchronization because synchronization is not active
20:59:58.463 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@75bc6553]]] will not be managed by Spring
20:59:58.463 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:59:58.463 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:59:58.468 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:59:58.468 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:59:58.469 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:59:58.469 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19c5c4e8]
20:59:58.470 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:59:58.470 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e65ad7d] was not registered for synchronization because synchronization is not active
20:59:58.470 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@75bc6553]]] will not be managed by Spring
20:59:58.471 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id 
20:59:58.471 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
20:59:58.473 [http-nio-80-exec-3] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
20:59:58.473 [http-nio-80-exec-3] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
20:59:58.473 [http-nio-80-exec-3] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1006, 151, 326, 491, 2017-12-27 00:00:00
20:59:58.473 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 2
20:59:58.473 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e65ad7d]
20:59:58.473 [http-nio-80-exec-3] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
20:59:58.473 [http-nio-80-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:00:29.752 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:00:29.757 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:00:29.757 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:00:29.757 [http-nio-80-exec-4] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@66a562ae
21:00:29.757 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:00:29.757 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:00:29.757 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:00:29.757 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:00:29.758 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:00:29.758 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:00:29.758 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:00:29.758 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:00:29.758 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:00:29.758 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:00:29.758 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:00:29.758 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:00:29.762 [http-nio-80-exec-4] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:00:29.763 [http-nio-80-exec-4] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:00:29.763 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:00:29.763 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac18cb3] was not registered for synchronization because synchronization is not active
21:00:29.763 [http-nio-80-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@75bc6553]]] will not be managed by Spring
21:00:29.764 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:00:29.764 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:00:29.764 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:00:29.764 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:00:29.765 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:00:29.765 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac18cb3]
21:00:29.765 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:00:29.765 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:00:29.765 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:00:29.765 [http-nio-80-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@53b71a0'
21:00:29.765 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:00:29.765 [http-nio-80-exec-4] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@511d5d04
21:00:29.765 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:00:29.765 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:00:29.765 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
21:00:29.765 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@53b71a0
21:00:29.766 [http-nio-80-exec-4] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@66c9db78, returned: 1
21:00:29.766 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:00:29.766 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:00:29.766 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
21:00:29.766 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:00:29.766 [http-nio-80-exec-4] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:00:29.766 [http-nio-80-exec-4] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:00:29.766 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:00:29.766 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d9d1a0] was not registered for synchronization because synchronization is not active
21:00:29.766 [http-nio-80-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@75bc6553]]] will not be managed by Spring
21:00:29.766 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:00:29.773 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:00:29.774 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:00:29.774 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:00:29.774 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:00:29.775 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d9d1a0]
21:00:29.776 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:00:29.776 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@612e18ba] was not registered for synchronization because synchronization is not active
21:00:29.776 [http-nio-80-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@75bc6553]]] will not be managed by Spring
21:00:29.776 [http-nio-80-exec-4] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id 
21:00:29.776 [http-nio-80-exec-4] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
21:00:29.777 [http-nio-80-exec-4] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
21:00:29.777 [http-nio-80-exec-4] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
21:00:29.777 [http-nio-80-exec-4] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1006, 151, 326, 491, 2017-12-27 00:00:00
21:00:29.778 [http-nio-80-exec-4] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 2
21:00:29.778 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@612e18ba]
21:00:29.779 [http-nio-80-exec-4] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:00:29.779 [http-nio-80-exec-4] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:01:58.034 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:01:58.038 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:01:58.038 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:01:58.038 [http-nio-80-exec-8] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@66a562ae
21:01:58.038 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:01:58.038 [http-nio-80-exec-8] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:01:58.038 [http-nio-80-exec-8] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:01:58.038 [http-nio-80-exec-8] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:01:58.039 [http-nio-80-exec-8] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:01:58.039 [http-nio-80-exec-8] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:01:58.039 [http-nio-80-exec-8] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:01:58.039 [http-nio-80-exec-8] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:01:58.039 [http-nio-80-exec-8] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:01:58.039 [http-nio-80-exec-8] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:01:58.039 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:01:58.044 [http-nio-80-exec-8] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:01:58.044 [http-nio-80-exec-8] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:01:58.045 [http-nio-80-exec-8] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:01:58.045 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:01:58.045 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67283cde] was not registered for synchronization because synchronization is not active
21:01:58.045 [http-nio-80-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@75bc6553]]] will not be managed by Spring
21:01:58.045 [http-nio-80-exec-8] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:01:58.046 [http-nio-80-exec-8] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:01:58.046 [http-nio-80-exec-8] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:01:58.046 [http-nio-80-exec-8] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:01:58.046 [http-nio-80-exec-8] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:01:58.046 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67283cde]
21:01:58.046 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:01:58.046 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:01:58.046 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:01:58.046 [http-nio-80-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@69efce4b'
21:01:58.046 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:01:58.047 [http-nio-80-exec-8] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@511d5d04
21:01:58.047 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:01:58.047 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:01:58.047 [http-nio-80-exec-8] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
21:01:58.047 [http-nio-80-exec-8] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@69efce4b
21:01:58.047 [http-nio-80-exec-8] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@66c9db78, returned: 1
21:01:58.047 [http-nio-80-exec-8] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:01:58.047 [http-nio-80-exec-8] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:01:58.047 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
21:01:58.047 [http-nio-80-exec-8] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:01:58.047 [http-nio-80-exec-8] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:01:58.047 [http-nio-80-exec-8] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:01:58.047 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:01:58.047 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd057ae] was not registered for synchronization because synchronization is not active
21:01:58.047 [http-nio-80-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@75bc6553]]] will not be managed by Spring
21:01:58.052 [http-nio-80-exec-8] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:01:58.052 [http-nio-80-exec-8] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:01:58.053 [http-nio-80-exec-8] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:01:58.053 [http-nio-80-exec-8] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:01:58.054 [http-nio-80-exec-8] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:01:58.054 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd057ae]
21:01:58.055 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:01:58.055 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e3ad378] was not registered for synchronization because synchronization is not active
21:01:58.055 [http-nio-80-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@75bc6553]]] will not be managed by Spring
21:01:58.055 [http-nio-80-exec-8] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id 
21:01:58.055 [http-nio-80-exec-8] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
21:01:58.056 [http-nio-80-exec-8] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
21:01:58.056 [http-nio-80-exec-8] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
21:01:58.056 [http-nio-80-exec-8] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1006, 151, 326, 491, 2017-12-27 00:00:00
21:01:58.056 [http-nio-80-exec-8] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 2
21:01:58.056 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e3ad378]
21:01:58.057 [http-nio-80-exec-8] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:01:58.058 [http-nio-80-exec-8] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:02:00.229 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:02:00.233 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:02:00.234 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:02:00.234 [http-nio-80-exec-7] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@66a562ae
21:02:00.234 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:02:00.234 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:02:00.234 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:02:00.234 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:02:00.234 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:02:00.234 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:02:00.234 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:02:00.234 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:02:00.234 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:02:00.234 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:02:00.238 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:02:00.239 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:02:00.239 [http-nio-80-exec-7] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:02:00.239 [http-nio-80-exec-7] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:02:00.239 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:02:00.239 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eca76e7] was not registered for synchronization because synchronization is not active
21:02:00.239 [http-nio-80-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@75bc6553]]] will not be managed by Spring
21:02:00.239 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:02:00.239 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:02:00.240 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:02:00.240 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:02:00.240 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:02:00.240 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eca76e7]
21:02:00.240 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:02:00.240 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:02:00.240 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:02:00.240 [http-nio-80-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@700d974e'
21:02:00.240 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:02:00.241 [http-nio-80-exec-7] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@511d5d04
21:02:00.241 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:02:00.241 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:02:00.241 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
21:02:00.241 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@700d974e
21:02:00.241 [http-nio-80-exec-7] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@66c9db78, returned: 1
21:02:00.241 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:02:00.241 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:02:00.241 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
21:02:00.241 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:02:00.241 [http-nio-80-exec-7] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:02:00.241 [http-nio-80-exec-7] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:02:00.241 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:02:00.241 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74321d97] was not registered for synchronization because synchronization is not active
21:02:00.246 [http-nio-80-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@75bc6553]]] will not be managed by Spring
21:02:00.246 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:02:00.246 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:02:00.246 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:02:00.247 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:02:00.247 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:02:00.247 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74321d97]
21:02:00.248 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:02:00.248 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31309d75] was not registered for synchronization because synchronization is not active
21:02:00.248 [http-nio-80-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@75bc6553]]] will not be managed by Spring
21:02:00.248 [http-nio-80-exec-7] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id 
21:02:00.248 [http-nio-80-exec-7] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
21:02:00.249 [http-nio-80-exec-7] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
21:02:00.249 [http-nio-80-exec-7] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
21:02:00.249 [http-nio-80-exec-7] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1006, 151, 326, 491, 2017-12-27 00:00:00
21:02:00.249 [http-nio-80-exec-7] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 2
21:02:00.250 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31309d75]
21:02:00.251 [http-nio-80-exec-7] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:02:00.251 [http-nio-80-exec-7] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:03:09.971 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 6020 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
21:03:09.971 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
21:03:09.971 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
21:03:10.229 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
21:03:10.449 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
21:03:10.459 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
21:03:10.459 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
21:03:10.459 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
21:03:10.459 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
21:03:10.459 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
21:03:10.459 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
21:03:10.459 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
21:03:10.459 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
21:03:11.278 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
21:03:11.285 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
21:03:11.388 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
21:03:11.393 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1375 ms
21:03:11.763 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
21:03:12.318 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
21:03:12.324 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
21:03:12.329 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
21:03:12.330 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
21:03:12.334 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
21:03:12.334 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
21:03:12.340 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
21:03:12.421 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
21:03:12.433 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
21:03:12.440 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
21:03:12.506 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
21:03:12.507 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
21:03:12.712 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$22964c31@51288417}
21:03:12.828 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
21:03:12.842 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:03:12.843 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:03:12.849 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4596f8f3, org.springframework.security.web.context.SecurityContextPersistenceFilter@6573d2f7, org.springframework.security.web.header.HeaderWriterFilter@102c577f, org.springframework.security.web.authentication.logout.LogoutFilter@58f39564, at.sparklingscience.urbantrees.security.ApiKeyFilter@2f3bc28f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@181b8c4b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7fb29ca9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ccf91df, org.springframework.security.web.session.SessionManagementFilter@1fb2d5e, org.springframework.security.web.access.ExceptionTranslationFilter@709ed6f3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f5b8250]
21:03:12.922 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
21:03:12.923 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
21:03:12.923 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
21:03:12.927 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
21:03:12.927 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
21:03:13.016 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2b175c00: startup date [Thu Dec 28 21:03:10 CET 2017]; root of context hierarchy
21:03:13.071 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
21:03:13.684 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 4.079 seconds (JVM running for 4.394)
21:03:20.692 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
21:03:20.697 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
21:03:20.721 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 24 ms
21:03:20.727 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:03:20.727 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:03:20.727 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:03:20.727 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@75d67051
21:03:20.727 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:03:20.727 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:03:20.727 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:03:20.727 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:03:20.727 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:03:20.727 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:03:20.743 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:03:20.743 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:03:20.743 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:03:20.743 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:03:20.743 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:03:20.743 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:03:20.743 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:03:20.743 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:03:20.758 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:03:20.758 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d5a27d4] was not registered for synchronization because synchronization is not active
21:03:21.265 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@3a98d376]]] will not be managed by Spring
21:03:21.280 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:03:21.296 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:03:21.312 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:03:21.312 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:03:21.312 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:03:21.312 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d5a27d4]
21:03:21.312 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:03:21.312 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:03:21.312 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:03:21.312 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@69ed8999'
21:03:21.312 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:03:21.312 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6b1dc20f
21:03:21.312 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:03:21.312 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:03:21.312 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
21:03:21.312 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@69ed8999
21:03:21.327 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@3ada1c09, returned: 1
21:03:21.327 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:03:21.327 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:03:21.327 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
21:03:21.327 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:03:21.327 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:03:21.327 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:03:21.327 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:03:21.327 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36b9a387] was not registered for synchronization because synchronization is not active
21:03:21.327 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@3a98d376]]] will not be managed by Spring
21:03:21.327 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:03:21.327 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:03:21.327 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:03:21.327 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:03:21.327 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:03:21.327 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36b9a387]
21:04:28.669 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 3888 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
21:04:28.669 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
21:04:28.669 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
21:04:28.900 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
21:04:29.104 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
21:04:29.113 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
21:04:29.113 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
21:04:29.113 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
21:04:29.113 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
21:04:29.113 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
21:04:29.113 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
21:04:29.113 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
21:04:29.113 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
21:04:29.802 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
21:04:29.808 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
21:04:29.893 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
21:04:29.897 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1171 ms
21:04:30.172 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
21:04:30.673 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
21:04:30.675 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
21:04:30.675 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
21:04:30.675 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
21:04:30.675 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
21:04:30.676 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
21:04:30.680 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
21:04:30.753 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
21:04:30.763 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
21:04:30.769 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
21:04:30.809 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
21:04:30.809 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
21:04:30.944 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$4a583047@1efdcd5}
21:04:31.010 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
21:04:31.021 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:04:31.022 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:04:31.025 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d33940d, org.springframework.security.web.context.SecurityContextPersistenceFilter@67ec8477, org.springframework.security.web.header.HeaderWriterFilter@71a3a190, org.springframework.security.web.authentication.logout.LogoutFilter@6ad6fa53, at.sparklingscience.urbantrees.security.ApiKeyFilter@6ac92d05, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4482469c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b1abd11, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43cf6ea3, org.springframework.security.web.session.SessionManagementFilter@7c28c1, org.springframework.security.web.access.ExceptionTranslationFilter@27f1bbe0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21fff664]
21:04:31.070 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
21:04:31.071 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
21:04:31.072 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
21:04:31.074 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
21:04:31.074 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
21:04:31.127 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 21:04:28 CET 2017]; root of context hierarchy
21:04:31.176 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
21:04:31.534 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.188 seconds (JVM running for 3.438)
21:04:35.234 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
21:04:35.239 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
21:04:35.261 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 22 ms
21:04:35.270 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00Z at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:04:35.270 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00Z at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:04:35.276 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00Z at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:04:35.277 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@63e7e426
21:04:35.277 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00Z at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:04:35.277 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:04:35.277 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:04:35.277 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:04:35.277 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:04:35.277 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:04:35.279 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:04:35.279 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:04:35.279 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:04:35.279 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:04:35.279 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00Z at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:04:35.279 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:04:35.279 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:04:35.279 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:04:35.279 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:04:35.279 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3edb07ab] was not registered for synchronization because synchronization is not active
21:04:35.637 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@1ee222b9]]] will not be managed by Spring
21:04:35.637 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:04:35.655 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:04:35.655 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:04:35.655 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:04:35.655 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:04:35.673 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3edb07ab]
21:04:35.673 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00Z at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:04:35.673 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00Z at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:04:35.674 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00Z at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:04:35.674 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@3c15384b'
21:04:35.674 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00Z at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:04:35.674 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2c779e5
21:04:35.674 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00Z at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:04:35.674 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00Z at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:04:35.675 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00Z; Attributes: [authenticated]
21:04:35.675 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@3c15384b
21:04:35.677 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@3f468366, returned: 1
21:04:35.677 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:04:35.677 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:04:35.677 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00Z reached end of additional filter chain; proceeding with original chain
21:04:35.678 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:04:35.678 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:04:35.678 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:04:35.678 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:04:35.678 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e9c1bb6] was not registered for synchronization because synchronization is not active
21:04:35.678 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@1ee222b9]]] will not be managed by Spring
21:04:35.678 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:04:35.678 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:04:35.679 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:04:35.683 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:04:35.683 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:04:35.683 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e9c1bb6]
21:04:35.690 [http-nio-80-exec-2] ERROR a.s.u.controller.TreeController - Timestamps could not be parsed: Unparseable date: "2017-07-01T00:00:00Z"
java.text.ParseException: Unparseable date: "2017-07-01T00:00:00Z"
	at java.text.DateFormat.parse(DateFormat.java:366)
	at at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(TreeController.java:75)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
21:04:35.727 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:04:35.727 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:05:05.665 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00+0000 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:05:05.671 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00+0000 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:05:05.676 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00+0000 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:05:05.676 [http-nio-80-exec-4] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@63e7e426
21:05:05.676 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00+0000 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:05:05.676 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:05:05.676 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:05:05.676 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:05:05.676 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:05:05.676 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:05:05.680 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:05:05.680 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:05:05.681 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:05:05.681 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:05:05.681 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00+0000 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:05:05.681 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:05:05.681 [http-nio-80-exec-4] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:05:05.681 [http-nio-80-exec-4] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:05:05.681 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:05:05.681 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68fafbce] was not registered for synchronization because synchronization is not active
21:05:05.683 [http-nio-80-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@1ee222b9]]] will not be managed by Spring
21:05:05.683 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:05:05.683 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:05:05.684 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:05:05.684 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:05:05.684 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:05:05.691 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68fafbce]
21:05:05.691 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00+0000 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:05:05.691 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00+0000 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:05:05.691 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00+0000 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:05:05.691 [http-nio-80-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@d0ee95e'
21:05:05.691 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00+0000 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:05:05.691 [http-nio-80-exec-4] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2c779e5
21:05:05.691 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00+0000 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:05:05.691 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00+0000 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:05:05.691 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00+0000; Attributes: [authenticated]
21:05:05.691 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@d0ee95e
21:05:05.692 [http-nio-80-exec-4] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@3f468366, returned: 1
21:05:05.692 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:05:05.692 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:05:05.692 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00+0000 reached end of additional filter chain; proceeding with original chain
21:05:05.692 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:05:05.692 [http-nio-80-exec-4] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:05:05.692 [http-nio-80-exec-4] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:05:05.692 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:05:05.692 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21e7636b] was not registered for synchronization because synchronization is not active
21:05:05.693 [http-nio-80-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@1ee222b9]]] will not be managed by Spring
21:05:05.693 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:05:05.693 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:05:05.694 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:05:05.694 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:05:05.694 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:05:05.695 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21e7636b]
21:05:05.696 [http-nio-80-exec-4] ERROR a.s.u.controller.TreeController - Timestamps could not be parsed: Unparseable date: "2017-07-01T00:00:00 0000"
java.text.ParseException: Unparseable date: "2017-07-01T00:00:00 0000"
	at java.text.DateFormat.parse(DateFormat.java:366)
	at at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(TreeController.java:75)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
21:05:05.698 [http-nio-80-exec-4] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:05:05.698 [http-nio-80-exec-4] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:06:06.068 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00%2B0000 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:06:06.072 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00%2B0000 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:06:06.076 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00%2B0000 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:06:06.076 [http-nio-80-exec-7] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@63e7e426
21:06:06.077 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00%2B0000 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:06:06.077 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:06:06.077 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:06:06.077 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:06:06.077 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:06:06.077 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:06:06.077 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:06:06.077 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:06:06.077 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:06:06.077 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:06:06.077 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00%2B0000 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:06:06.077 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:06:06.077 [http-nio-80-exec-7] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:06:06.077 [http-nio-80-exec-7] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:06:06.077 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:06:06.077 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6abc86] was not registered for synchronization because synchronization is not active
21:06:06.078 [http-nio-80-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@1ee222b9]]] will not be managed by Spring
21:06:06.078 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:06:06.078 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:06:06.079 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:06:06.079 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:06:06.079 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:06:06.079 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6abc86]
21:06:06.080 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00%2B0000 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:06:06.080 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00%2B0000 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:06:06.080 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00%2B0000 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:06:06.080 [http-nio-80-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@7592d7f6'
21:06:06.080 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00%2B0000 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:06:06.080 [http-nio-80-exec-7] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2c779e5
21:06:06.080 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00%2B0000 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:06:06.086 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00%2B0000 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:06:06.086 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00%2B0000; Attributes: [authenticated]
21:06:06.086 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@7592d7f6
21:06:06.087 [http-nio-80-exec-7] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@3f468366, returned: 1
21:06:06.087 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:06:06.087 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:06:06.087 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00:00:00%2B0000 reached end of additional filter chain; proceeding with original chain
21:06:06.087 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:06:06.087 [http-nio-80-exec-7] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:06:06.087 [http-nio-80-exec-7] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:06:06.087 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:06:06.087 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30904720] was not registered for synchronization because synchronization is not active
21:06:06.087 [http-nio-80-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@1ee222b9]]] will not be managed by Spring
21:06:06.088 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:06:06.088 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:06:06.089 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:06:06.089 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:06:06.089 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:06:06.089 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30904720]
21:06:06.091 [http-nio-80-exec-7] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00:00:00+0000
21:06:06.092 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:06:06.092 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a345338] was not registered for synchronization because synchronization is not active
21:06:06.113 [http-nio-80-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@1ee222b9]]] will not be managed by Spring
21:06:06.113 [http-nio-80-exec-7] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat <= ? 
21:06:06.114 [http-nio-80-exec-7] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-07-01 02:00:00.0(Timestamp)
21:06:06.116 [http-nio-80-exec-7] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
21:06:06.116 [http-nio-80-exec-7] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
21:06:06.118 [http-nio-80-exec-7] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 1
21:06:06.118 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a345338]
21:06:06.127 [http-nio-80-exec-7] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:06:06.127 [http-nio-80-exec-7] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:09:28.162 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 12004 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
21:09:28.162 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
21:09:28.162 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
21:09:28.394 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
21:09:28.579 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
21:09:28.594 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
21:09:28.594 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
21:09:28.594 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
21:09:28.594 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
21:09:28.594 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
21:09:28.594 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
21:09:28.594 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
21:09:28.594 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
21:09:29.305 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
21:09:29.310 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
21:09:29.395 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
21:09:29.401 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1191 ms
21:09:29.687 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
21:09:30.175 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
21:09:30.177 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
21:09:30.177 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
21:09:30.178 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
21:09:30.178 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
21:09:30.178 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
21:09:30.182 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
21:09:30.243 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
21:09:30.243 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
21:09:30.259 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
21:09:30.301 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
21:09:30.301 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
21:09:30.432 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$e9487090@1a1ed4e5}
21:09:30.503 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
21:09:30.516 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:09:30.517 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:09:30.521 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@189b5fb1, org.springframework.security.web.context.SecurityContextPersistenceFilter@71a3a190, org.springframework.security.web.header.HeaderWriterFilter@cda0432, org.springframework.security.web.authentication.logout.LogoutFilter@847f3e7, at.sparklingscience.urbantrees.security.ApiKeyFilter@6a4aed7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c28c1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b3f3ba0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@783ec989, org.springframework.security.web.session.SessionManagementFilter@7004e3d, org.springframework.security.web.access.ExceptionTranslationFilter@6f8f8a80, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2fe88a09]
21:09:30.576 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
21:09:30.577 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
21:09:30.577 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
21:09:30.579 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
21:09:30.579 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
21:09:30.632 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 21:09:28 CET 2017]; root of context hierarchy
21:09:30.664 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
21:09:31.015 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.175 seconds (JVM running for 3.429)
21:09:34.295 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
21:09:34.299 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
21:09:34.315 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 16 ms
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6fb548ed
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:09:34.319 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:09:34.319 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:09:34.319 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:09:34.335 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:09:34.335 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f0adbbf] was not registered for synchronization because synchronization is not active
21:09:34.698 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@2b8b71f0]]] will not be managed by Spring
21:09:34.698 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:09:34.722 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:09:34.728 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:09:34.728 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:09:34.728 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:09:34.728 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f0adbbf]
21:09:34.728 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:09:34.728 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:09:34.728 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:09:34.728 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@7c8e3e5'
21:09:34.728 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:09:34.728 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6d467c87
21:09:34.728 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:09:34.728 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:09:34.728 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00; Attributes: [authenticated]
21:09:34.728 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@7c8e3e5
21:09:34.728 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@478f4beb, returned: 1
21:09:34.728 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:09:34.728 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:09:34.728 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 reached end of additional filter chain; proceeding with original chain
21:09:34.728 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:09:34.728 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:09:34.728 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:09:34.728 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:09:34.728 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@363f7e64] was not registered for synchronization because synchronization is not active
21:09:34.728 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@2b8b71f0]]] will not be managed by Spring
21:09:34.728 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:09:34.728 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:09:34.728 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:09:34.743 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:09:34.743 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:09:34.743 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@363f7e64]
21:09:34.759 [http-nio-80-exec-2] ERROR a.s.u.controller.TreeController - Timestamps could not be parsed: Unparseable date: "2017-07-01T00-00-00"
java.text.ParseException: Unparseable date: "2017-07-01T00-00-00"
	at java.text.DateFormat.parse(DateFormat.java:366)
	at at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(TreeController.java:75)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
21:09:34.790 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:09:34.790 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:10:03.324 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 8548 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
21:10:03.339 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
21:10:03.339 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
21:10:03.571 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
21:10:03.816 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
21:10:03.816 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
21:10:03.817 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
21:10:03.817 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
21:10:03.817 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
21:10:03.817 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
21:10:03.817 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
21:10:03.817 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
21:10:03.817 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
21:10:04.632 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
21:10:04.638 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
21:10:04.734 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
21:10:04.738 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1352 ms
21:10:05.085 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
21:10:05.765 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
21:10:05.772 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
21:10:05.777 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
21:10:05.778 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
21:10:05.782 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
21:10:05.782 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
21:10:05.787 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
21:10:05.867 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
21:10:05.880 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
21:10:05.887 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
21:10:05.953 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
21:10:05.953 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
21:10:06.218 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$11e63413@5679e96b}
21:10:06.317 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
21:10:06.339 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:10:06.339 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:10:06.354 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3050ac2f, org.springframework.security.web.context.SecurityContextPersistenceFilter@7b122839, org.springframework.security.web.header.HeaderWriterFilter@6a818392, org.springframework.security.web.authentication.logout.LogoutFilter@7412ed6b, at.sparklingscience.urbantrees.security.ApiKeyFilter@3a1c5cca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d277579, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd3ad8a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@265bd546, org.springframework.security.web.session.SessionManagementFilter@512d6e60, org.springframework.security.web.access.ExceptionTranslationFilter@3c74aa0d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f53481b]
21:10:06.444 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
21:10:06.445 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
21:10:06.445 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
21:10:06.448 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
21:10:06.449 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
21:10:06.546 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2b175c00: startup date [Thu Dec 28 21:10:03 CET 2017]; root of context hierarchy
21:10:06.646 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
21:10:07.242 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 4.287 seconds (JVM running for 4.617)
21:10:07.640 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
21:10:07.645 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
21:10:07.665 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 20 ms
21:10:07.681 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:10:07.681 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:10:07.690 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:10:07.690 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@521f8898
21:10:07.691 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:10:07.691 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:10:07.691 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:10:07.691 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:10:07.691 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:10:07.691 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:10:07.696 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:10:07.697 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:10:07.697 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:10:07.697 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:10:07.697 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:10:07.697 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:10:07.697 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:10:07.697 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:10:07.709 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:10:07.713 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@748ac4b4] was not registered for synchronization because synchronization is not active
21:10:08.073 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@2790137]]] will not be managed by Spring
21:10:08.073 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:10:08.095 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:10:08.100 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:10:08.100 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:10:08.100 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:10:08.100 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@748ac4b4]
21:10:08.100 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:10:08.100 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:10:08.100 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:10:08.100 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@4296f84e'
21:10:08.100 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:10:08.100 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@79a04e5f
21:10:08.100 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:10:08.100 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:10:08.100 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00; Attributes: [authenticated]
21:10:08.100 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@4296f84e
21:10:08.100 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@a37f162, returned: 1
21:10:08.100 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:10:08.100 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:10:08.100 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 reached end of additional filter chain; proceeding with original chain
21:10:08.100 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:10:08.100 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:10:08.100 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:10:08.116 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:10:08.116 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4231f369] was not registered for synchronization because synchronization is not active
21:10:08.116 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@2790137]]] will not be managed by Spring
21:10:08.116 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:10:08.116 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:10:08.116 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:10:08.116 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:10:08.116 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:10:08.116 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4231f369]
21:10:42.343 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 10176 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
21:10:42.343 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
21:10:42.343 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
21:10:42.574 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
21:10:42.791 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
21:10:42.800 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
21:10:42.800 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
21:10:42.801 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
21:10:42.801 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
21:10:42.801 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
21:10:42.801 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
21:10:42.801 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
21:10:42.801 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
21:10:43.541 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
21:10:43.546 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
21:10:43.641 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
21:10:43.645 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1255 ms
21:10:43.941 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
21:10:44.519 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
21:10:44.525 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
21:10:44.530 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
21:10:44.530 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
21:10:44.534 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
21:10:44.535 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
21:10:44.539 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
21:10:44.617 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
21:10:44.627 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
21:10:44.629 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
21:10:44.683 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
21:10:44.684 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
21:10:44.843 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$e9487090@69e308c6}
21:10:44.933 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
21:10:44.947 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:10:44.948 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:10:44.953 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1440c311, org.springframework.security.web.context.SecurityContextPersistenceFilter@2d84cb86, org.springframework.security.web.header.HeaderWriterFilter@27f1bbe0, org.springframework.security.web.authentication.logout.LogoutFilter@264c5d07, at.sparklingscience.urbantrees.security.ApiKeyFilter@201155b3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@588ffeb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34cf5a97, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@189b5fb1, org.springframework.security.web.session.SessionManagementFilter@7c211fd0, org.springframework.security.web.access.ExceptionTranslationFilter@1a5b8489, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7e8a46b7]
21:10:45.017 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
21:10:45.018 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
21:10:45.018 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
21:10:45.020 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
21:10:45.021 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
21:10:45.096 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 21:10:42 CET 2017]; root of context hierarchy
21:10:45.131 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
21:10:45.516 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.489 seconds (JVM running for 3.743)
21:10:45.549 [http-nio-80-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
21:10:45.549 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
21:10:45.564 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 15 ms
21:10:45.572 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:10:45.572 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:10:45.578 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:10:45.578 [http-nio-80-exec-1] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@4c314c02
21:10:45.578 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:10:45.578 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:10:45.578 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:10:45.578 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:10:45.578 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:10:45.578 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:10:45.579 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:10:45.579 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:10:45.579 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:10:45.579 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:10:45.579 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:10:45.579 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:10:45.579 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:10:45.579 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:10:45.589 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:10:45.592 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b21b184] was not registered for synchronization because synchronization is not active
21:10:45.952 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@2798e2dd]]] will not be managed by Spring
21:10:45.955 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:10:45.968 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:10:45.979 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:10:45.979 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:10:45.979 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:10:45.982 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b21b184]
21:10:45.983 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:10:45.983 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:10:45.983 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:10:45.983 [http-nio-80-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@3784b0d7'
21:10:45.984 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:10:45.984 [http-nio-80-exec-1] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1c12f3ee
21:10:45.984 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:10:45.984 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:10:45.984 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00; Attributes: [authenticated]
21:10:45.984 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@3784b0d7
21:10:45.987 [http-nio-80-exec-1] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@5e2f3aba, returned: 1
21:10:45.987 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:10:45.987 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:10:45.987 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 reached end of additional filter chain; proceeding with original chain
21:10:45.987 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:10:45.987 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:10:45.987 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:10:45.987 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:10:45.987 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75deaf2c] was not registered for synchronization because synchronization is not active
21:10:45.987 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@2798e2dd]]] will not be managed by Spring
21:10:45.987 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:10:45.987 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:10:45.988 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:10:45.991 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:10:45.992 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:10:45.992 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75deaf2c]
21:10:46.008 [http-nio-80-exec-1] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00-00-00
21:10:46.008 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:10:46.008 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a698da4] was not registered for synchronization because synchronization is not active
21:10:46.026 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@2798e2dd]]] will not be managed by Spring
21:10:46.026 [http-nio-80-exec-1] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat <= ? 
21:10:46.027 [http-nio-80-exec-1] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-07-01 00:00:00.0(Timestamp)
21:10:46.030 [http-nio-80-exec-1] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
21:10:46.030 [http-nio-80-exec-1] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
21:10:46.031 [http-nio-80-exec-1] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 1
21:10:46.031 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a698da4]
21:10:46.073 [http-nio-80-exec-1] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:10:46.073 [http-nio-80-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:11:22.124 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 8916 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
21:11:22.124 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
21:11:22.124 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
21:11:22.356 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
21:11:22.525 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
21:11:22.525 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
21:11:22.525 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
21:11:22.525 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
21:11:22.525 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
21:11:22.525 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
21:11:22.525 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
21:11:22.525 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
21:11:22.525 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
21:11:23.206 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
21:11:23.212 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
21:11:23.298 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
21:11:23.302 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1124 ms
21:11:23.576 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
21:11:23.992 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
21:11:23.992 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
21:11:23.992 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
21:11:23.992 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
21:11:23.992 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
21:11:23.992 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
21:11:23.992 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
21:11:24.070 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
21:11:24.074 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
21:11:24.074 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
21:11:24.128 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
21:11:24.128 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
21:11:24.277 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$e9487090@69e308c6}
21:11:24.346 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
21:11:24.346 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:11:24.346 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:11:24.362 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1440c311, org.springframework.security.web.context.SecurityContextPersistenceFilter@2d84cb86, org.springframework.security.web.header.HeaderWriterFilter@27f1bbe0, org.springframework.security.web.authentication.logout.LogoutFilter@264c5d07, at.sparklingscience.urbantrees.security.ApiKeyFilter@786ed5e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@588ffeb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34cf5a97, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@189b5fb1, org.springframework.security.web.session.SessionManagementFilter@7c211fd0, org.springframework.security.web.access.ExceptionTranslationFilter@1a5b8489, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7e8a46b7]
21:11:24.409 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
21:11:24.409 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
21:11:24.409 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
21:11:24.409 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
21:11:24.409 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
21:11:24.478 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 21:11:22 CET 2017]; root of context hierarchy
21:11:24.509 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
21:11:24.872 [main] ERROR o.a.coyote.http11.Http11NioProtocol - Failed to start end point associated with ProtocolHandler ["http-nio-80"]
java.net.BindException: Address already in use: bind
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:990)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:635)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1022)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:225)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.addPreviouslyRemovedConnectors(TomcatEmbeddedServletContainer.java:250)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.start(TomcatEmbeddedServletContainer.java:193)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.startEmbeddedServletContainer(EmbeddedWebApplicationContext.java:297)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:145)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)
	at at.sparklingscience.urbantrees.UrbantreesApplication.main(UrbantreesApplication.java:20)
21:11:24.872 [main] ERROR o.a.catalina.core.StandardService - Failed to start connector [Connector[HTTP/1.1-80]]
org.apache.catalina.LifecycleException: Failed to start component [Connector[HTTP/1.1-80]]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:225)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.addPreviouslyRemovedConnectors(TomcatEmbeddedServletContainer.java:250)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.start(TomcatEmbeddedServletContainer.java:193)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.startEmbeddedServletContainer(EmbeddedWebApplicationContext.java:297)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:145)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)
	at at.sparklingscience.urbantrees.UrbantreesApplication.main(UrbantreesApplication.java:20)
Caused by: org.apache.catalina.LifecycleException: service.getName(): "Tomcat";  Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1031)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	... 13 common frames omitted
Caused by: java.net.BindException: Address already in use: bind
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:990)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:635)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1022)
	... 14 common frames omitted
21:11:24.879 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
21:11:24.895 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The Tomcat connector configured to listen on port 80 failed to start. The port may already be in use or the connector may be misconfigured.

Action:

Verify the connector's configuration, identify and stop any process that's listening on port 80, or configure this application to listen on another port.

21:11:31.618 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 14196 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
21:11:31.618 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
21:11:31.618 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
21:11:31.836 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
21:11:32.036 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
21:11:32.038 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
21:11:32.038 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
21:11:32.038 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
21:11:32.038 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
21:11:32.038 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
21:11:32.038 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
21:11:32.039 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
21:11:32.039 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
21:11:32.700 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
21:11:32.705 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
21:11:32.794 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
21:11:32.798 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1147 ms
21:11:33.083 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
21:11:33.675 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
21:11:33.681 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
21:11:33.686 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
21:11:33.686 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
21:11:33.686 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
21:11:33.687 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
21:11:33.691 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
21:11:33.759 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
21:11:33.759 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
21:11:33.774 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
21:11:33.814 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
21:11:33.814 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
21:11:33.961 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$69246471@5488b5c5}
21:11:34.046 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
21:11:34.063 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:11:34.064 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:11:34.069 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aac85fa, org.springframework.security.web.context.SecurityContextPersistenceFilter@6f8f8a80, org.springframework.security.web.header.HeaderWriterFilter@47c64cfe, org.springframework.security.web.authentication.logout.LogoutFilter@5eeedb60, at.sparklingscience.urbantrees.security.ApiKeyFilter@786ed5e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72805168, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71a3a190, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21fff664, org.springframework.security.web.session.SessionManagementFilter@a567e72, org.springframework.security.web.access.ExceptionTranslationFilter@7808fb9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@52a36910]
21:11:34.130 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
21:11:34.139 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
21:11:34.139 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
21:11:34.140 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
21:11:34.140 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
21:11:34.199 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 21:11:31 CET 2017]; root of context hierarchy
21:11:34.227 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
21:11:34.589 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.308 seconds (JVM running for 3.576)
21:11:36.837 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
21:11:36.851 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
21:11:36.867 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 16 ms
21:11:36.867 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:11:36.867 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:11:36.867 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:11:36.867 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@395a927c
21:11:36.867 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:11:36.867 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:11:36.867 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:11:36.867 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:11:36.867 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:11:36.867 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:11:36.884 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:11:36.884 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:11:36.884 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:11:36.884 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:11:36.884 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:11:36.884 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:11:36.884 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:11:36.884 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:11:36.884 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:11:36.884 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@495c63b4] was not registered for synchronization because synchronization is not active
21:11:37.243 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@67137da0]]] will not be managed by Spring
21:11:37.243 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:11:37.259 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:11:37.277 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:11:37.277 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:11:37.278 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:11:37.281 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@495c63b4]
21:11:37.281 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:11:37.281 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:11:37.282 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:11:37.282 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@5f543102'
21:11:37.282 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:11:37.282 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6579c3d9
21:11:37.282 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:11:37.282 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:11:37.283 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00; Attributes: [authenticated]
21:11:37.283 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@5f543102
21:11:37.285 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6f74d71c, returned: 1
21:11:37.285 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:11:37.285 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:11:37.285 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 reached end of additional filter chain; proceeding with original chain
21:11:37.285 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:11:37.285 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:11:37.285 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:11:37.285 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:11:37.285 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3621ab5c] was not registered for synchronization because synchronization is not active
21:11:37.285 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@67137da0]]] will not be managed by Spring
21:11:37.285 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:11:37.285 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:11:37.285 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:11:37.285 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:11:37.285 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:11:37.285 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3621ab5c]
21:11:37.300 [http-nio-80-exec-2] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00-00-00
21:11:37.300 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:11:37.300 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65657fc5] was not registered for synchronization because synchronization is not active
21:11:37.316 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@67137da0]]] will not be managed by Spring
21:11:37.316 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat <= ? 
21:11:37.316 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-07-01 00:00:00.0(Timestamp)
21:11:37.316 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
21:11:37.316 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
21:11:37.316 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 1
21:11:37.316 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65657fc5]
21:11:37.347 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:11:37.347 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:15:16.211 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 7536 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
21:15:16.213 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
21:15:16.213 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
21:15:16.424 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
21:15:16.649 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
21:15:16.650 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
21:15:16.650 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
21:15:16.650 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
21:15:16.650 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
21:15:16.650 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
21:15:16.650 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
21:15:16.650 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
21:15:16.650 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
21:15:17.351 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
21:15:17.357 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
21:15:17.455 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
21:15:17.461 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1203 ms
21:15:17.787 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
21:15:18.322 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
21:15:18.328 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
21:15:18.334 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
21:15:18.334 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
21:15:18.338 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
21:15:18.338 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
21:15:18.342 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
21:15:18.411 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
21:15:18.422 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
21:15:18.429 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
21:15:18.474 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
21:15:18.474 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
21:15:18.622 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$fe978423@5b6e8f77}
21:15:18.713 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
21:15:18.723 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:15:18.724 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:15:18.729 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29314cc9, org.springframework.security.web.context.SecurityContextPersistenceFilter@56ccd751, org.springframework.security.web.header.HeaderWriterFilter@7fedfe27, org.springframework.security.web.authentication.logout.LogoutFilter@3a095ec0, at.sparklingscience.urbantrees.security.ApiKeyFilter@37b8e688, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bcbf05b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59942b48, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e38d975, org.springframework.security.web.session.SessionManagementFilter@1d4664d7, org.springframework.security.web.access.ExceptionTranslationFilter@247667dd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53dfacba]
21:15:18.773 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
21:15:18.774 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
21:15:18.774 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
21:15:18.777 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
21:15:18.777 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
21:15:18.840 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 21:15:16 CET 2017]; root of context hierarchy
21:15:18.879 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
21:15:19.229 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.356 seconds (JVM running for 3.703)
21:15:21.215 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
21:15:21.219 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
21:15:21.234 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 15 ms
21:15:21.241 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:15:21.242 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:15:21.247 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:15:21.248 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6128fba1
21:15:21.248 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:15:21.248 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:15:21.248 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:15:21.248 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:15:21.248 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:15:21.248 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:15:21.252 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:15:21.252 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:15:21.252 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:15:21.252 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:15:21.253 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:15:21.253 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:15:21.253 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:15:21.253 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:15:21.262 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:15:21.265 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ade3117] was not registered for synchronization because synchronization is not active
21:15:21.661 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@1b958c25]]] will not be managed by Spring
21:15:21.665 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:15:21.685 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:15:21.697 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:15:21.697 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:15:21.698 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:15:21.701 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ade3117]
21:15:21.702 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:15:21.702 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:15:21.703 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:15:21.703 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@3f267c05'
21:15:21.703 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:15:21.703 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@67ec8477
21:15:21.703 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:15:21.703 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:15:21.703 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00; Attributes: [authenticated]
21:15:21.703 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@3f267c05
21:15:21.706 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@250f4666, returned: 1
21:15:21.706 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:15:21.706 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:15:21.706 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 reached end of additional filter chain; proceeding with original chain
21:15:21.706 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:15:21.706 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:15:21.706 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:15:21.706 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:15:21.706 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20d61640] was not registered for synchronization because synchronization is not active
21:15:21.707 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@1b958c25]]] will not be managed by Spring
21:15:21.707 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:15:21.707 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:15:21.707 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:15:21.711 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:15:21.712 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:15:21.712 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20d61640]
21:15:21.726 [http-nio-80-exec-2] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00-00-00
21:15:21.727 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:15:21.727 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7558a7d2] was not registered for synchronization because synchronization is not active
21:15:21.746 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@1b958c25]]] will not be managed by Spring
21:15:21.746 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat <= ? 
21:15:21.747 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-07-01 00:00:00.0(Timestamp)
21:15:21.749 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
21:15:21.749 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
21:15:21.750 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 1
21:15:21.750 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7558a7d2]
21:15:21.794 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:15:21.794 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:15:30.480 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 6172 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
21:15:30.482 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
21:15:30.482 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
21:15:30.703 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
21:15:30.898 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
21:15:30.898 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
21:15:30.898 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
21:15:30.899 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
21:15:30.899 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
21:15:30.899 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
21:15:30.899 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
21:15:30.899 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
21:15:30.899 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
21:15:31.629 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
21:15:31.636 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
21:15:31.722 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
21:15:31.727 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1200 ms
21:15:32.018 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
21:15:32.581 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
21:15:32.588 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
21:15:32.593 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
21:15:32.594 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
21:15:32.594 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
21:15:32.595 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
21:15:32.599 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
21:15:32.669 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
21:15:32.680 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
21:15:32.688 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
21:15:32.758 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
21:15:32.758 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
21:15:32.928 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$4483c31b@7ed9ae94}
21:15:33.009 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
21:15:33.021 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:15:33.022 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:15:33.035 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bcb79c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@35f8a9d3, org.springframework.security.web.header.HeaderWriterFilter@2d6aca33, org.springframework.security.web.authentication.logout.LogoutFilter@5560bcdf, at.sparklingscience.urbantrees.security.ApiKeyFilter@2035b8f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b1e7ad3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5972d253, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d1a10ac, org.springframework.security.web.session.SessionManagementFilter@29314cc9, org.springframework.security.web.access.ExceptionTranslationFilter@6edaa77a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e8e8621]
21:15:33.184 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 21:15:30 CET 2017]; root of context hierarchy
21:15:33.296 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
21:15:33.297 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
21:15:33.297 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
21:15:33.299 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
21:15:33.304 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
21:15:33.322 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
21:15:33.322 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
21:15:33.332 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
21:15:33.347 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
21:15:33.573 [main] ERROR o.a.coyote.http11.Http11NioProtocol - Failed to start end point associated with ProtocolHandler ["http-nio-80"]
java.net.BindException: Address already in use: bind
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:990)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:635)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1022)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:225)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.addPreviouslyRemovedConnectors(TomcatEmbeddedServletContainer.java:250)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.start(TomcatEmbeddedServletContainer.java:193)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.startEmbeddedServletContainer(EmbeddedWebApplicationContext.java:297)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:145)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)
	at at.sparklingscience.urbantrees.UrbantreesApplication.main(UrbantreesApplication.java:20)
21:15:33.574 [main] ERROR o.a.catalina.core.StandardService - Failed to start connector [Connector[HTTP/1.1-80]]
org.apache.catalina.LifecycleException: Failed to start component [Connector[HTTP/1.1-80]]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:225)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.addPreviouslyRemovedConnectors(TomcatEmbeddedServletContainer.java:250)
	at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.start(TomcatEmbeddedServletContainer.java:193)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.startEmbeddedServletContainer(EmbeddedWebApplicationContext.java:297)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:145)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)
	at at.sparklingscience.urbantrees.UrbantreesApplication.main(UrbantreesApplication.java:20)
Caused by: org.apache.catalina.LifecycleException: service.getName(): "Tomcat";  Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1031)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	... 13 common frames omitted
Caused by: java.net.BindException: Address already in use: bind
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:990)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:635)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1022)
	... 14 common frames omitted
21:15:33.582 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
21:15:33.603 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The Tomcat connector configured to listen on port 80 failed to start. The port may already be in use or the connector may be misconfigured.

Action:

Verify the connector's configuration, identify and stop any process that's listening on port 80, or configure this application to listen on another port.

21:15:41.748 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 3924 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
21:15:41.750 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
21:15:41.750 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
21:15:41.984 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
21:15:42.185 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
21:15:42.185 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
21:15:42.186 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
21:15:42.186 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
21:15:42.186 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
21:15:42.186 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
21:15:42.186 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
21:15:42.186 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
21:15:42.186 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
21:15:42.904 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
21:15:42.910 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
21:15:42.998 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
21:15:43.003 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1209 ms
21:15:43.334 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
21:15:43.863 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
21:15:43.871 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
21:15:43.876 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
21:15:43.876 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
21:15:43.877 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
21:15:43.877 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
21:15:43.882 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
21:15:43.963 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
21:15:43.976 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
21:15:43.983 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
21:15:44.057 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
21:15:44.057 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
21:15:44.258 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$232ee481@6999cd39}
21:15:44.350 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
21:15:44.366 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:15:44.368 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:15:44.371 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@303a5119, org.springframework.security.web.context.SecurityContextPersistenceFilter@29314cc9, org.springframework.security.web.header.HeaderWriterFilter@16c3ca31, org.springframework.security.web.authentication.logout.LogoutFilter@7a18e8d, at.sparklingscience.urbantrees.security.ApiKeyFilter@3621c15, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35f8a9d3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e840abf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75b3673, org.springframework.security.web.session.SessionManagementFilter@2d6aca33, org.springframework.security.web.access.ExceptionTranslationFilter@aced190, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@783efb48]
21:15:44.599 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4550bb58: startup date [Thu Dec 28 21:15:41 CET 2017]; root of context hierarchy
21:15:44.698 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
21:15:44.699 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
21:15:44.699 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
21:15:44.701 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
21:15:44.705 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
21:15:44.728 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
21:15:44.728 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
21:15:44.742 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
21:15:44.764 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
21:15:44.991 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.583 seconds (JVM running for 3.873)
21:15:45.269 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
21:15:45.269 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
21:15:45.290 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 16 ms
21:15:45.300 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:15:45.300 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:15:45.301 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:15:45.302 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@f5ae8b1
21:15:45.302 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:15:45.302 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:15:45.302 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:15:45.306 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:15:45.306 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:15:45.306 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:15:45.306 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:15:45.306 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:15:45.306 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:15:45.307 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:15:45.307 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:15:45.311 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:15:45.311 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:15:45.311 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:15:45.316 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:15:45.319 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47ad5fcb] was not registered for synchronization because synchronization is not active
21:15:45.724 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6c9ef2bd]]] will not be managed by Spring
21:15:45.727 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:15:45.745 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:15:45.757 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:15:45.758 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:15:45.758 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:15:45.762 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47ad5fcb]
21:15:45.762 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:15:45.762 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:15:45.763 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:15:45.763 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@60703700'
21:15:45.763 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:15:45.763 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4d33940d
21:15:45.763 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:15:45.763 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:15:45.764 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00; Attributes: [authenticated]
21:15:45.764 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@60703700
21:15:45.767 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7024e078, returned: 1
21:15:45.767 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:15:45.767 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:15:45.767 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 reached end of additional filter chain; proceeding with original chain
21:15:45.767 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:15:45.767 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:15:45.767 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:15:45.767 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:15:45.767 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f46e9fc] was not registered for synchronization because synchronization is not active
21:15:45.767 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6c9ef2bd]]] will not be managed by Spring
21:15:45.773 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:15:45.774 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:15:45.774 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:15:45.774 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:15:45.774 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:15:45.775 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f46e9fc]
21:15:45.789 [http-nio-80-exec-2] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00-00-00
21:15:45.790 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:15:45.790 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@155ad183] was not registered for synchronization because synchronization is not active
21:15:45.808 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6c9ef2bd]]] will not be managed by Spring
21:15:45.808 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat <= ? 
21:15:45.809 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-07-01 00:00:00.0(Timestamp)
21:15:45.811 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
21:15:45.811 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
21:15:45.813 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 1
21:15:45.813 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@155ad183]
21:15:45.856 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:15:45.857 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:19:27.168 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:19:27.174 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:19:27.174 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:19:27.174 [http-nio-80-exec-5] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@f5ae8b1
21:19:27.174 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:19:27.174 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:19:27.178 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:19:27.178 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:19:27.178 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:19:27.178 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:19:27.178 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:19:27.178 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:19:27.178 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:19:27.179 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:19:27.184 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:19:27.184 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:19:27.184 [http-nio-80-exec-5] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:19:27.184 [http-nio-80-exec-5] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:19:27.185 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:19:27.185 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d616005] was not registered for synchronization because synchronization is not active
21:19:27.186 [http-nio-80-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6c9ef2bd]]] will not be managed by Spring
21:19:27.186 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:19:27.186 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:19:27.187 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:19:27.187 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:19:27.187 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:19:27.187 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d616005]
21:19:27.187 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:19:27.187 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:19:27.187 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:19:27.187 [http-nio-80-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@20484925'
21:19:27.188 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:19:27.188 [http-nio-80-exec-5] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4d33940d
21:19:27.188 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:19:27.188 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:19:27.188 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00; Attributes: [authenticated]
21:19:27.188 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@20484925
21:19:27.188 [http-nio-80-exec-5] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7024e078, returned: 1
21:19:27.188 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:19:27.188 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:19:27.188 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 reached end of additional filter chain; proceeding with original chain
21:19:27.188 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:19:27.188 [http-nio-80-exec-5] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:19:27.188 [http-nio-80-exec-5] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:19:27.188 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:19:27.188 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a90798d] was not registered for synchronization because synchronization is not active
21:19:27.193 [http-nio-80-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6c9ef2bd]]] will not be managed by Spring
21:19:27.193 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:19:27.194 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:19:27.194 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:19:27.194 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:19:27.194 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:19:27.195 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a90798d]
21:19:27.195 [http-nio-80-exec-5] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00-00-00
21:19:27.196 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:19:27.196 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d2461b] was not registered for synchronization because synchronization is not active
21:19:27.196 [http-nio-80-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6c9ef2bd]]] will not be managed by Spring
21:19:27.196 [http-nio-80-exec-5] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat <= ? 
21:19:27.196 [http-nio-80-exec-5] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-07-01 00:00:00.0(Timestamp)
21:19:27.197 [http-nio-80-exec-5] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
21:19:27.197 [http-nio-80-exec-5] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
21:19:27.198 [http-nio-80-exec-5] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 1
21:19:27.198 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d2461b]
21:19:27.199 [http-nio-80-exec-5] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:19:27.199 [http-nio-80-exec-5] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:19:28.472 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:19:28.476 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:19:28.476 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:19:28.476 [http-nio-80-exec-7] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@f5ae8b1
21:19:28.476 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:19:28.476 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:19:28.476 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:19:28.476 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:19:28.476 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:19:28.476 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:19:28.476 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:19:28.476 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:19:28.476 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:19:28.480 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:19:28.480 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:19:28.480 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:19:28.480 [http-nio-80-exec-7] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:19:28.480 [http-nio-80-exec-7] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:19:28.480 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:19:28.480 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44ce940d] was not registered for synchronization because synchronization is not active
21:19:28.481 [http-nio-80-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6c9ef2bd]]] will not be managed by Spring
21:19:28.481 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:19:28.481 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:19:28.481 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:19:28.481 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:19:28.482 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:19:28.482 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44ce940d]
21:19:28.482 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:19:28.482 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:19:28.482 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:19:28.482 [http-nio-80-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@4e36ff7d'
21:19:28.482 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:19:28.482 [http-nio-80-exec-7] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4d33940d
21:19:28.482 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:19:28.482 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:19:28.482 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00; Attributes: [authenticated]
21:19:28.482 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@4e36ff7d
21:19:28.482 [http-nio-80-exec-7] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7024e078, returned: 1
21:19:28.482 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:19:28.482 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:19:28.482 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 reached end of additional filter chain; proceeding with original chain
21:19:28.482 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:19:28.482 [http-nio-80-exec-7] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:19:28.482 [http-nio-80-exec-7] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:19:28.482 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:19:28.486 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b3468df] was not registered for synchronization because synchronization is not active
21:19:28.487 [http-nio-80-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6c9ef2bd]]] will not be managed by Spring
21:19:28.487 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:19:28.487 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:19:28.488 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:19:28.488 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:19:28.488 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:19:28.489 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b3468df]
21:19:28.490 [http-nio-80-exec-7] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00-00-00
21:19:28.490 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:19:28.490 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a587656] was not registered for synchronization because synchronization is not active
21:19:28.490 [http-nio-80-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@6c9ef2bd]]] will not be managed by Spring
21:19:28.490 [http-nio-80-exec-7] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat <= ? 
21:19:28.490 [http-nio-80-exec-7] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-07-01 00:00:00.0(Timestamp)
21:19:28.491 [http-nio-80-exec-7] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
21:19:28.491 [http-nio-80-exec-7] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
21:19:28.491 [http-nio-80-exec-7] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 1
21:19:28.491 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a587656]
21:19:28.492 [http-nio-80-exec-7] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:19:28.492 [http-nio-80-exec-7] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:21:40.365 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 6020 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
21:21:40.368 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
21:21:40.368 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
21:21:40.621 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
21:21:40.881 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
21:21:40.881 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
21:21:40.882 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
21:21:40.882 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
21:21:40.882 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
21:21:40.882 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
21:21:40.882 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
21:21:40.882 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
21:21:40.882 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
21:21:41.638 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
21:21:41.645 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
21:21:41.739 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
21:21:41.745 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1328 ms
21:21:42.038 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
21:21:42.518 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
21:21:42.520 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
21:21:42.524 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
21:21:42.525 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
21:21:42.525 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
21:21:42.525 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
21:21:42.529 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
21:21:42.597 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
21:21:42.606 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
21:21:42.612 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
21:21:42.680 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
21:21:42.680 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
21:21:42.843 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$232ee481@6999cd39}
21:21:42.924 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
21:21:42.937 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:21:42.938 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:21:42.941 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@303a5119, org.springframework.security.web.context.SecurityContextPersistenceFilter@29314cc9, org.springframework.security.web.header.HeaderWriterFilter@16c3ca31, org.springframework.security.web.authentication.logout.LogoutFilter@7a18e8d, at.sparklingscience.urbantrees.security.ApiKeyFilter@642345c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35f8a9d3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e840abf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75b3673, org.springframework.security.web.session.SessionManagementFilter@2d6aca33, org.springframework.security.web.access.ExceptionTranslationFilter@aced190, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@783efb48]
21:21:43.097 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@9597028: startup date [Thu Dec 28 21:21:40 CET 2017]; root of context hierarchy
21:21:43.214 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
21:21:43.216 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
21:21:43.216 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
21:21:43.218 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
21:21:43.224 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
21:21:43.243 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
21:21:43.243 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
21:21:43.258 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
21:21:43.274 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
21:21:43.476 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.444 seconds (JVM running for 3.71)
21:21:44.954 [http-nio-80-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
21:21:44.960 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
21:21:44.984 [http-nio-80-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 19 ms
21:21:44.995 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:21:44.995 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:21:44.996 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:21:45.003 [http-nio-80-exec-1] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6d695cb5
21:21:45.003 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:21:45.003 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:21:45.004 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:21:45.008 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:21:45.008 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:21:45.008 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:21:45.009 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:21:45.009 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:21:45.009 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:21:45.009 [http-nio-80-exec-1] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:21:45.009 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:21:45.018 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:21:45.018 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:21:45.019 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:21:45.025 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:21:45.030 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51af7693] was not registered for synchronization because synchronization is not active
21:21:45.414 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@590c72af]]] will not be managed by Spring
21:21:45.416 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:21:45.433 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:21:45.444 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:21:45.444 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:21:45.445 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:21:45.448 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51af7693]
21:21:45.449 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:21:45.449 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:21:45.449 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:21:45.450 [http-nio-80-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@1b4b675b'
21:21:45.450 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:21:45.450 [http-nio-80-exec-1] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4d33940d
21:21:45.450 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:21:45.450 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:21:45.450 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00; Attributes: [authenticated]
21:21:45.450 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@1b4b675b
21:21:45.453 [http-nio-80-exec-1] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1caf4c4, returned: 1
21:21:45.453 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:21:45.453 [http-nio-80-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:21:45.453 [http-nio-80-exec-1] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 reached end of additional filter chain; proceeding with original chain
21:21:45.453 [http-nio-80-exec-1] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:21:45.453 [http-nio-80-exec-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:21:45.453 [http-nio-80-exec-1] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:21:45.453 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:21:45.453 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e335b3] was not registered for synchronization because synchronization is not active
21:21:45.454 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@590c72af]]] will not be managed by Spring
21:21:45.457 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:21:45.458 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:21:45.458 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:21:45.458 [http-nio-80-exec-1] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:21:45.458 [http-nio-80-exec-1] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:21:45.459 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e335b3]
21:21:45.472 [http-nio-80-exec-1] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00-00-00
21:21:45.473 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:21:45.473 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@548c50c9] was not registered for synchronization because synchronization is not active
21:21:45.489 [http-nio-80-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@590c72af]]] will not be managed by Spring
21:21:45.489 [http-nio-80-exec-1] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat <= ? 
21:21:45.490 [http-nio-80-exec-1] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-07-01 00:00:00.0(Timestamp)
21:21:45.492 [http-nio-80-exec-1] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
21:21:45.492 [http-nio-80-exec-1] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
21:21:45.494 [http-nio-80-exec-1] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 1
21:21:45.494 [http-nio-80-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@548c50c9]
21:21:45.532 [http-nio-80-exec-1] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:21:45.532 [http-nio-80-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:23:50.555 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 6920 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
20:23:50.557 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
20:23:50.557 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
20:23:50.772 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
20:23:50.975 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
20:23:50.976 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
20:23:50.976 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
20:23:50.976 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
20:23:50.976 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
20:23:50.976 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
20:23:50.976 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
20:23:50.976 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
20:23:50.976 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
20:23:51.681 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
20:23:51.686 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
20:23:51.765 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
20:23:51.769 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1172 ms
20:23:52.048 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
20:23:52.548 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
20:23:52.550 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
20:23:52.550 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
20:23:52.550 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
20:23:52.551 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
20:23:52.551 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
20:23:52.555 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
20:23:52.623 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
20:23:52.633 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
20:23:52.639 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
20:23:52.709 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
20:23:52.709 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
20:23:52.885 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$fa8b85f5@1e6b9a95}
20:23:52.978 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
20:23:52.993 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:23:52.994 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:23:52.999 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@abbc908, org.springframework.security.web.context.SecurityContextPersistenceFilter@264c5d07, org.springframework.security.web.header.HeaderWriterFilter@1b32cd16, org.springframework.security.web.authentication.logout.LogoutFilter@458544e0, at.sparklingscience.urbantrees.security.ApiKeyFilter@4c187edd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69cac930, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a03bb68, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44afefd5, org.springframework.security.web.session.SessionManagementFilter@61d01788, org.springframework.security.web.access.ExceptionTranslationFilter@6443b128, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3241713e]
20:23:53.199 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@9597028: startup date [Thu Dec 28 20:23:50 UTC 2017]; root of context hierarchy
20:23:53.322 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
20:23:53.323 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
20:23:53.323 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
20:23:53.324 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
20:23:53.330 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
20:23:53.355 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
20:23:53.355 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
20:23:53.372 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
20:23:53.389 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
20:23:53.682 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.444 seconds (JVM running for 3.712)
20:23:54.378 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
20:23:54.382 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
20:23:54.403 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 17 ms
20:23:54.416 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:23:54.417 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:23:54.418 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:23:54.424 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2df9d19c
20:23:54.424 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:23:54.424 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:23:54.424 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:23:54.430 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:23:54.430 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:23:54.430 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:23:54.430 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:23:54.430 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:23:54.430 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:23:54.431 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:23:54.431 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:23:54.436 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:23:54.437 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:23:54.437 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:23:54.444 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:23:54.448 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a59983a] was not registered for synchronization because synchronization is not active
20:23:54.812 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:23:54.815 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:23:54.837 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:23:54.856 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:23:54.856 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:23:54.857 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:23:54.860 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a59983a]
20:23:54.861 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:23:54.861 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:23:54.861 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:23:54.862 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@6fdf7255'
20:23:54.862 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:23:54.862 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@bd2f5a9
20:23:54.862 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:23:54.862 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:23:54.862 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00; Attributes: [authenticated]
20:23:54.862 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@6fdf7255
20:23:54.865 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@184051e, returned: 1
20:23:54.865 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:23:54.865 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:23:54.865 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00 reached end of additional filter chain; proceeding with original chain
20:23:54.865 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:23:54.865 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:23:54.865 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:23:54.865 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:23:54.866 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74891533] was not registered for synchronization because synchronization is not active
20:23:54.866 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:23:54.870 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:23:54.870 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:23:54.871 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:23:54.871 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:23:54.871 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:23:54.871 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74891533]
20:23:54.885 [http-nio-80-exec-2] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00-00-00
20:23:54.885 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:23:54.886 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2adc86e0] was not registered for synchronization because synchronization is not active
20:23:54.902 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:23:54.902 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat <= ? 
20:23:54.902 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-07-01 00:00:00.0(Timestamp)
20:23:54.904 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
20:23:54.904 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
20:23:54.905 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 1
20:23:54.905 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2adc86e0]
20:23:54.942 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
20:23:54.943 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:24:54.840 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-07-01T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:24:54.846 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-07-01T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:24:54.846 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-07-01T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:24:54.846 [http-nio-80-exec-4] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2df9d19c
20:24:54.846 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-07-01T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:24:54.846 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:24:54.852 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:24:54.852 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:24:54.852 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:24:54.852 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:24:54.852 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:24:54.852 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:24:54.852 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:24:54.852 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:24:54.858 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-07-01T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:24:54.858 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:24:54.858 [http-nio-80-exec-4] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:24:54.858 [http-nio-80-exec-4] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:24:54.858 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:24:54.858 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211a1b0c] was not registered for synchronization because synchronization is not active
20:24:54.859 [http-nio-80-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:24:54.859 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:24:54.860 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:24:54.861 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:24:54.861 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:24:54.861 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:24:54.862 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211a1b0c]
20:24:54.862 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-07-01T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:24:54.862 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-07-01T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:24:54.862 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-07-01T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:24:54.862 [http-nio-80-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@5447c744'
20:24:54.862 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-07-01T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:24:54.862 [http-nio-80-exec-4] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@bd2f5a9
20:24:54.862 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-07-01T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:24:54.862 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-07-01T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:24:54.862 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-07-01T00-00-00; Attributes: [authenticated]
20:24:54.862 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@5447c744
20:24:54.862 [http-nio-80-exec-4] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@184051e, returned: 1
20:24:54.862 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:24:54.862 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:24:54.862 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-07-01T00-00-00 reached end of additional filter chain; proceeding with original chain
20:24:54.862 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:24:54.862 [http-nio-80-exec-4] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:24:54.863 [http-nio-80-exec-4] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:24:54.863 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:24:54.863 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ad0bae5] was not registered for synchronization because synchronization is not active
20:24:54.868 [http-nio-80-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:24:54.868 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:24:54.868 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:24:54.869 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:24:54.869 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:24:54.869 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:24:54.869 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ad0bae5]
20:24:54.870 [http-nio-80-exec-4] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00-00-00
20:24:54.871 [http-nio-80-exec-4] DEBUG a.s.u.controller.TreeController - Using timespan max of 2017-07-01T00-00-00
20:24:54.871 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:24:54.871 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4badd250] was not registered for synchronization because synchronization is not active
20:24:54.871 [http-nio-80-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:24:54.871 [http-nio-80-exec-4] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat >= ? and p.observe_dat <= ? 
20:24:54.872 [http-nio-80-exec-4] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-07-01 00:00:00.0(Timestamp), 2017-07-01 00:00:00.0(Timestamp)
20:24:54.873 [http-nio-80-exec-4] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 0
20:24:54.873 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4badd250]
20:24:54.875 [http-nio-80-exec-4] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
20:24:54.875 [http-nio-80-exec-4] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:25:02.189 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2018-07-01T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:25:02.193 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2018-07-01T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:25:02.193 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2018-07-01T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:25:02.193 [http-nio-80-exec-3] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2df9d19c
20:25:02.193 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2018-07-01T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:25:02.193 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:25:02.193 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:25:02.194 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:25:02.194 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:25:02.194 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:25:02.194 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:25:02.194 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:25:02.194 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:25:02.194 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:25:02.198 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2018-07-01T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:25:02.198 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:25:02.198 [http-nio-80-exec-3] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:25:02.198 [http-nio-80-exec-3] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:25:02.198 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:25:02.198 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16a8d9a7] was not registered for synchronization because synchronization is not active
20:25:02.199 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:25:02.199 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:25:02.199 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:25:02.199 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:25:02.199 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:25:02.200 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:25:02.200 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16a8d9a7]
20:25:02.200 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2018-07-01T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:25:02.200 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2018-07-01T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:25:02.200 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2018-07-01T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:25:02.200 [http-nio-80-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@1c50b2d7'
20:25:02.200 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2018-07-01T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:25:02.200 [http-nio-80-exec-3] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@bd2f5a9
20:25:02.200 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2018-07-01T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:25:02.200 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2018-07-01T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:25:02.200 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2018-07-01T00-00-00; Attributes: [authenticated]
20:25:02.200 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@1c50b2d7
20:25:02.200 [http-nio-80-exec-3] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@184051e, returned: 1
20:25:02.200 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:25:02.200 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:25:02.200 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2018-07-01T00-00-00 reached end of additional filter chain; proceeding with original chain
20:25:02.200 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:25:02.200 [http-nio-80-exec-3] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:25:02.200 [http-nio-80-exec-3] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:25:02.200 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:25:02.201 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59523f39] was not registered for synchronization because synchronization is not active
20:25:02.204 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:25:02.204 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:25:02.205 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:25:02.205 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:25:02.206 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:25:02.206 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:25:02.206 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59523f39]
20:25:02.207 [http-nio-80-exec-3] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00-00-00
20:25:02.207 [http-nio-80-exec-3] DEBUG a.s.u.controller.TreeController - Using timespan max of 2018-07-01T00-00-00
20:25:02.207 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:25:02.207 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d331daa] was not registered for synchronization because synchronization is not active
20:25:02.207 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:25:02.207 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat >= ? and p.observe_dat <= ? 
20:25:02.208 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2018-07-01 00:00:00.0(Timestamp), 2017-07-01 00:00:00.0(Timestamp)
20:25:02.208 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 0
20:25:02.208 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d331daa]
20:25:02.209 [http-nio-80-exec-3] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
20:25:02.209 [http-nio-80-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:25:32.131 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:25:32.135 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:25:32.136 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:25:32.136 [http-nio-80-exec-5] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2df9d19c
20:25:32.136 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:25:32.136 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:25:32.136 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:25:32.136 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:25:32.136 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:25:32.136 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:25:32.136 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:25:32.136 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:25:32.136 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:25:32.136 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:25:32.142 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:25:32.142 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:25:32.142 [http-nio-80-exec-5] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:25:32.142 [http-nio-80-exec-5] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:25:32.142 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:25:32.143 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61eabd39] was not registered for synchronization because synchronization is not active
20:25:32.143 [http-nio-80-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:25:32.143 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:25:32.144 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:25:32.144 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:25:32.144 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:25:32.144 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:25:32.144 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61eabd39]
20:25:32.145 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:25:32.145 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:25:32.145 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:25:32.145 [http-nio-80-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@6f2d4f74'
20:25:32.145 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:25:32.145 [http-nio-80-exec-5] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@bd2f5a9
20:25:32.145 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:25:32.145 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:25:32.145 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00; Attributes: [authenticated]
20:25:32.145 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@6f2d4f74
20:25:32.145 [http-nio-80-exec-5] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@184051e, returned: 1
20:25:32.145 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:25:32.145 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:25:32.145 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 reached end of additional filter chain; proceeding with original chain
20:25:32.145 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:25:32.145 [http-nio-80-exec-5] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:25:32.145 [http-nio-80-exec-5] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:25:32.145 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:25:32.146 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b12d649] was not registered for synchronization because synchronization is not active
20:25:32.150 [http-nio-80-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:25:32.150 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:25:32.151 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:25:32.151 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:25:32.151 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:25:32.151 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:25:32.152 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b12d649]
20:25:32.152 [http-nio-80-exec-5] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00-00-00
20:25:32.153 [http-nio-80-exec-5] DEBUG a.s.u.controller.TreeController - Using timespan max of 2017-12-31T00-00-00
20:25:32.153 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:25:32.153 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a2726c1] was not registered for synchronization because synchronization is not active
20:25:32.153 [http-nio-80-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:25:32.153 [http-nio-80-exec-5] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat >= ? and p.observe_dat <= ? 
20:25:32.153 [http-nio-80-exec-5] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-12-31 00:00:00.0(Timestamp), 2017-07-01 00:00:00.0(Timestamp)
20:25:32.154 [http-nio-80-exec-5] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 0
20:25:32.154 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a2726c1]
20:25:32.155 [http-nio-80-exec-5] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
20:25:32.155 [http-nio-80-exec-5] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:25:38.331 [http-nio-80-exec-6] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:25:38.335 [http-nio-80-exec-6] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:25:38.335 [http-nio-80-exec-6] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:25:38.335 [http-nio-80-exec-6] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2df9d19c
20:25:38.335 [http-nio-80-exec-6] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:25:38.335 [http-nio-80-exec-6] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:25:38.335 [http-nio-80-exec-6] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:25:38.335 [http-nio-80-exec-6] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:25:38.335 [http-nio-80-exec-6] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:25:38.335 [http-nio-80-exec-6] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:25:38.335 [http-nio-80-exec-6] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:25:38.335 [http-nio-80-exec-6] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:25:38.335 [http-nio-80-exec-6] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:25:38.335 [http-nio-80-exec-6] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:25:38.338 [http-nio-80-exec-6] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:25:38.338 [http-nio-80-exec-6] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:25:38.338 [http-nio-80-exec-6] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:25:38.338 [http-nio-80-exec-6] DEBUG a.s.urbantrees.security.ApiKeyFilter - Authentication failed: null
20:25:38.338 [http-nio-80-exec-6] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:25:38.338 [http-nio-80-exec-6] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:25:38.338 [http-nio-80-exec-6] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:25:38.338 [http-nio-80-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@44546f00'
20:25:38.338 [http-nio-80-exec-6] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:25:38.339 [http-nio-80-exec-6] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@bd2f5a9
20:25:38.339 [http-nio-80-exec-6] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:25:38.339 [http-nio-80-exec-6] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:25:38.339 [http-nio-80-exec-6] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00; Attributes: [authenticated]
20:25:38.339 [http-nio-80-exec-6] DEBUG o.s.s.authentication.ProviderManager - Authentication attempt using at.sparklingscience.urbantrees.security.ApiKeyAuthenticationProvider
20:25:38.339 [http-nio-80-exec-6] DEBUG o.s.s.a.DefaultAuthenticationEventPublisher - No event was found for the exception at.sparklingscience.urbantrees.security.ApiKeyAuthenticationException
20:25:38.340 [http-nio-80-exec-6] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Authentication exception occurred; redirecting to authentication entry point
at.sparklingscience.urbantrees.security.ApiKeyAuthenticationException: API key is invalid
	at at.sparklingscience.urbantrees.security.ApiKeyAuthenticationProvider.authenticate(ApiKeyAuthenticationProvider.java:15)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.authenticateIfRequired(AbstractSecurityInterceptor.java:354)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:229)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
20:25:38.341 [http-nio-80-exec-6] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Calling Authentication entry point.
20:25:38.341 [http-nio-80-exec-6] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
20:25:38.341 [http-nio-80-exec-6] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:25:44.850 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:25:44.855 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:25:44.855 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:25:44.856 [http-nio-80-exec-7] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2df9d19c
20:25:44.856 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:25:44.861 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:25:44.861 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:25:44.861 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:25:44.861 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:25:44.861 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:25:44.861 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:25:44.861 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:25:44.861 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:25:44.865 [http-nio-80-exec-7] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:25:44.866 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:25:44.866 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:25:44.866 [http-nio-80-exec-7] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:25:44.866 [http-nio-80-exec-7] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:25:44.866 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:25:44.866 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62b3ee26] was not registered for synchronization because synchronization is not active
20:25:44.866 [http-nio-80-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:25:44.867 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:25:44.867 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:25:44.867 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:25:44.867 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:25:44.867 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:25:44.867 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62b3ee26]
20:25:44.868 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:25:44.868 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:25:44.868 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:25:44.868 [http-nio-80-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@668c76a8'
20:25:44.868 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:25:44.868 [http-nio-80-exec-7] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@bd2f5a9
20:25:44.868 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:25:44.868 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:25:44.868 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00; Attributes: [authenticated]
20:25:44.868 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@668c76a8
20:25:44.868 [http-nio-80-exec-7] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@184051e, returned: 1
20:25:44.868 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:25:44.868 [http-nio-80-exec-7] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:25:44.868 [http-nio-80-exec-7] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-31T00-00-00 reached end of additional filter chain; proceeding with original chain
20:25:44.868 [http-nio-80-exec-7] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:25:44.868 [http-nio-80-exec-7] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:25:44.868 [http-nio-80-exec-7] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:25:44.868 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:25:44.873 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@238ee41d] was not registered for synchronization because synchronization is not active
20:25:44.873 [http-nio-80-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:25:44.873 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:25:44.874 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:25:44.874 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:25:44.874 [http-nio-80-exec-7] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:25:44.874 [http-nio-80-exec-7] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:25:44.874 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@238ee41d]
20:25:44.875 [http-nio-80-exec-7] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00-00-00
20:25:44.876 [http-nio-80-exec-7] DEBUG a.s.u.controller.TreeController - Using timespan max of 2017-12-31T00-00-00
20:25:44.876 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:25:44.876 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1267a66a] was not registered for synchronization because synchronization is not active
20:25:44.876 [http-nio-80-exec-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:25:44.876 [http-nio-80-exec-7] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat >= ? and p.observe_dat <= ? 
20:25:44.876 [http-nio-80-exec-7] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-12-31 00:00:00.0(Timestamp), 2017-07-01 00:00:00.0(Timestamp)
20:25:44.877 [http-nio-80-exec-7] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 0
20:25:44.877 [http-nio-80-exec-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1267a66a]
20:25:44.878 [http-nio-80-exec-7] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
20:25:44.878 [http-nio-80-exec-7] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:25:50.837 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:25:50.842 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:25:50.842 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:25:50.842 [http-nio-80-exec-8] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2df9d19c
20:25:50.842 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:25:50.842 [http-nio-80-exec-8] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:25:50.842 [http-nio-80-exec-8] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:25:50.842 [http-nio-80-exec-8] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:25:50.842 [http-nio-80-exec-8] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:25:50.842 [http-nio-80-exec-8] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:25:50.842 [http-nio-80-exec-8] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:25:50.842 [http-nio-80-exec-8] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:25:50.842 [http-nio-80-exec-8] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:25:50.846 [http-nio-80-exec-8] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:25:50.846 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:25:50.846 [http-nio-80-exec-8] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:25:50.846 [http-nio-80-exec-8] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:25:50.846 [http-nio-80-exec-8] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:25:50.846 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:25:50.846 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aa96cdf] was not registered for synchronization because synchronization is not active
20:25:50.847 [http-nio-80-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:25:50.847 [http-nio-80-exec-8] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:25:50.847 [http-nio-80-exec-8] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:25:50.848 [http-nio-80-exec-8] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:25:50.848 [http-nio-80-exec-8] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:25:50.848 [http-nio-80-exec-8] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:25:50.849 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@aa96cdf]
20:25:50.849 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:25:50.849 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:25:50.849 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:25:50.849 [http-nio-80-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@3b14fbda'
20:25:50.849 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:25:50.849 [http-nio-80-exec-8] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@bd2f5a9
20:25:50.849 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:25:50.849 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:25:50.849 [http-nio-80-exec-8] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00; Attributes: [authenticated]
20:25:50.849 [http-nio-80-exec-8] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@3b14fbda
20:25:50.849 [http-nio-80-exec-8] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@184051e, returned: 1
20:25:50.849 [http-nio-80-exec-8] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:25:50.849 [http-nio-80-exec-8] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:25:50.849 [http-nio-80-exec-8] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 reached end of additional filter chain; proceeding with original chain
20:25:50.849 [http-nio-80-exec-8] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:25:50.849 [http-nio-80-exec-8] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:25:50.849 [http-nio-80-exec-8] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:25:50.849 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:25:50.853 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d997eb3] was not registered for synchronization because synchronization is not active
20:25:50.853 [http-nio-80-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:25:50.853 [http-nio-80-exec-8] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:25:50.853 [http-nio-80-exec-8] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:25:50.854 [http-nio-80-exec-8] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:25:50.854 [http-nio-80-exec-8] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:25:50.854 [http-nio-80-exec-8] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:25:50.854 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d997eb3]
20:25:50.855 [http-nio-80-exec-8] DEBUG a.s.u.controller.TreeController - Using timespan max of 2017-12-31T00-00-00
20:25:50.855 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:25:50.855 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c8eb69] was not registered for synchronization because synchronization is not active
20:25:50.855 [http-nio-80-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@16c6e6a]]] will not be managed by Spring
20:25:50.855 [http-nio-80-exec-8] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat >= ? 
20:25:50.855 [http-nio-80-exec-8] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-12-31 00:00:00.0(Timestamp)
20:25:50.856 [http-nio-80-exec-8] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 0
20:25:50.856 [http-nio-80-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c8eb69]
20:25:50.857 [http-nio-80-exec-8] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
20:25:50.857 [http-nio-80-exec-8] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:27:37.294 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 7172 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
20:27:37.296 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
20:27:37.297 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
20:27:37.514 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
20:27:37.722 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
20:27:37.722 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
20:27:37.722 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
20:27:37.722 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
20:27:37.723 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
20:27:37.723 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
20:27:37.723 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
20:27:37.723 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
20:27:37.723 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
20:27:38.428 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
20:27:38.435 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
20:27:38.522 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
20:27:38.526 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1187 ms
20:27:38.795 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
20:27:39.271 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
20:27:39.273 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
20:27:39.274 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
20:27:39.274 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
20:27:39.274 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
20:27:39.275 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
20:27:39.279 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
20:27:39.346 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
20:27:39.356 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
20:27:39.362 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
20:27:39.429 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
20:27:39.429 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
20:27:39.592 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$a9f65ef2@757194dc}
20:27:39.682 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
20:27:39.705 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:27:39.706 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:27:39.710 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78411116, org.springframework.security.web.context.SecurityContextPersistenceFilter@1dab9dd6, org.springframework.security.web.header.HeaderWriterFilter@4e868ef5, org.springframework.security.web.authentication.logout.LogoutFilter@25b865b5, at.sparklingscience.urbantrees.security.ApiKeyFilter@3246498e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f099cef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46c00568, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@aced190, org.springframework.security.web.session.SessionManagementFilter@30af7377, org.springframework.security.web.access.ExceptionTranslationFilter@6ad6fa53, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@9a7a808]
20:27:39.854 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@9597028: startup date [Thu Dec 28 20:27:37 UTC 2017]; root of context hierarchy
20:27:39.957 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
20:27:39.958 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
20:27:39.958 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String)
20:27:39.960 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
20:27:39.966 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
20:27:39.989 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
20:27:39.989 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
20:27:40.000 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
20:27:40.019 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
20:27:40.237 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.275 seconds (JVM running for 3.558)
20:27:44.137 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
20:27:44.141 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
20:27:44.162 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 17 ms
20:27:44.171 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:27:44.172 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:27:44.173 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:27:44.180 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2de3e014
20:27:44.180 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:27:44.180 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:27:44.181 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:27:44.186 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:27:44.186 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:27:44.186 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:27:44.186 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:27:44.186 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:27:44.186 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:27:44.186 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:27:44.186 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:27:44.192 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:27:44.193 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:27:44.193 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:27:44.198 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:27:44.201 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25d53e83] was not registered for synchronization because synchronization is not active
20:27:44.569 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@5e695783]]] will not be managed by Spring
20:27:44.571 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:27:44.590 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:27:44.604 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:27:44.604 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:27:44.605 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:27:44.608 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25d53e83]
20:27:44.608 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:27:44.608 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:27:44.609 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:27:44.609 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@5c214c19'
20:27:44.609 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:27:44.609 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34b9fc7d
20:27:44.610 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:27:44.610 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:27:44.610 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00; Attributes: [authenticated]
20:27:44.610 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@5c214c19
20:27:44.613 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7a758be, returned: 1
20:27:44.613 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:27:44.613 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:27:44.613 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-31T00-00-00 reached end of additional filter chain; proceeding with original chain
20:27:44.613 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:27:44.613 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:27:44.613 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:27:44.613 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:27:44.613 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6437fd2c] was not registered for synchronization because synchronization is not active
20:27:44.613 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@5e695783]]] will not be managed by Spring
20:27:44.617 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:27:44.617 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:27:44.618 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:27:44.618 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:27:44.618 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:27:44.618 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6437fd2c]
20:27:44.634 [http-nio-80-exec-2] DEBUG a.s.u.controller.TreeController - Using timespan max of 2017-12-31T00-00-00
20:27:44.634 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:27:44.634 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40b129f3] was not registered for synchronization because synchronization is not active
20:27:44.653 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@5e695783]]] will not be managed by Spring
20:27:44.653 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat <= ? 
20:27:44.654 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-12-31 00:00:00.0(Timestamp)
20:27:44.655 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
20:27:44.655 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
20:27:44.657 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1006, 151, 326, 491, 2017-12-27 00:00:00
20:27:44.657 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 2
20:27:44.657 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40b129f3]
20:27:44.697 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
20:27:44.697 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:27:52.180 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-26T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:27:52.186 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-26T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:27:52.186 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-26T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:27:52.187 [http-nio-80-exec-3] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2de3e014
20:27:52.187 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-26T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:27:52.192 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:27:52.192 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:27:52.192 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:27:52.192 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:27:52.192 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:27:52.192 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:27:52.192 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:27:52.192 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:27:52.196 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:27:52.196 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-26T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:27:52.196 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:27:52.196 [http-nio-80-exec-3] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:27:52.197 [http-nio-80-exec-3] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:27:52.197 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:27:52.197 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb86549] was not registered for synchronization because synchronization is not active
20:27:52.198 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@5e695783]]] will not be managed by Spring
20:27:52.198 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:27:52.198 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:27:52.199 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:27:52.199 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:27:52.199 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:27:52.200 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb86549]
20:27:52.200 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-26T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:27:52.200 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-26T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:27:52.200 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-26T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:27:52.200 [http-nio-80-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@257c668e'
20:27:52.200 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-26T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:27:52.200 [http-nio-80-exec-3] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34b9fc7d
20:27:52.200 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-26T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:27:52.200 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-26T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:27:52.200 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_max=2017-12-26T00-00-00; Attributes: [authenticated]
20:27:52.200 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@257c668e
20:27:52.200 [http-nio-80-exec-3] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7a758be, returned: 1
20:27:52.200 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:27:52.200 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:27:52.200 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_max=2017-12-26T00-00-00 reached end of additional filter chain; proceeding with original chain
20:27:52.200 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:27:52.201 [http-nio-80-exec-3] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:27:52.201 [http-nio-80-exec-3] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:27:52.201 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:27:52.205 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f1ab4db] was not registered for synchronization because synchronization is not active
20:27:52.205 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@5e695783]]] will not be managed by Spring
20:27:52.205 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:27:52.206 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:27:52.206 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:27:52.206 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:27:52.207 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:27:52.207 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f1ab4db]
20:27:52.208 [http-nio-80-exec-3] DEBUG a.s.u.controller.TreeController - Using timespan max of 2017-12-26T00-00-00
20:27:52.208 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:27:52.208 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67bc6d24] was not registered for synchronization because synchronization is not active
20:27:52.209 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@5e695783]]] will not be managed by Spring
20:27:52.209 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat <= ? 
20:27:52.209 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-12-26 00:00:00.0(Timestamp)
20:27:52.210 [http-nio-80-exec-3] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
20:27:52.210 [http-nio-80-exec-3] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
20:27:52.210 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 1
20:27:52.211 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67bc6d24]
20:27:52.212 [http-nio-80-exec-3] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
20:27:52.212 [http-nio-80-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:27:54.922 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-26T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:27:54.926 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-26T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:27:54.927 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-26T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:27:54.927 [http-nio-80-exec-4] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2de3e014
20:27:54.927 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-26T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:27:54.927 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:27:54.927 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:27:54.927 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:27:54.927 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:27:54.927 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:27:54.927 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:27:54.927 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:27:54.931 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:27:54.931 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:27:54.931 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-26T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:27:54.932 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:27:54.932 [http-nio-80-exec-4] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:27:54.932 [http-nio-80-exec-4] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:27:54.932 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:27:54.932 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4dfd22] was not registered for synchronization because synchronization is not active
20:27:54.932 [http-nio-80-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@5e695783]]] will not be managed by Spring
20:27:54.932 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:27:54.933 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:27:54.933 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:27:54.933 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:27:54.933 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:27:54.934 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4dfd22]
20:27:54.934 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-26T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:27:54.934 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-26T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:27:54.934 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-26T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:27:54.934 [http-nio-80-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@51b59652'
20:27:54.934 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-26T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:27:54.934 [http-nio-80-exec-4] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34b9fc7d
20:27:54.934 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-26T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:27:54.934 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-26T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:27:54.934 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-26T00-00-00; Attributes: [authenticated]
20:27:54.934 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@51b59652
20:27:54.934 [http-nio-80-exec-4] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7a758be, returned: 1
20:27:54.934 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:27:54.934 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:27:54.934 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2017-12-26T00-00-00 reached end of additional filter chain; proceeding with original chain
20:27:54.934 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:27:54.934 [http-nio-80-exec-4] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:27:54.934 [http-nio-80-exec-4] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:27:54.938 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:27:54.938 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14b71200] was not registered for synchronization because synchronization is not active
20:27:54.938 [http-nio-80-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@5e695783]]] will not be managed by Spring
20:27:54.938 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:27:54.939 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:27:54.940 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:27:54.940 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:27:54.940 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:27:54.940 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14b71200]
20:27:54.942 [http-nio-80-exec-4] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00-00-00
20:27:54.942 [http-nio-80-exec-4] DEBUG a.s.u.controller.TreeController - Using timespan max of 2017-12-26T00-00-00
20:27:54.942 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:27:54.942 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66d7c3df] was not registered for synchronization because synchronization is not active
20:27:54.942 [http-nio-80-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@5e695783]]] will not be managed by Spring
20:27:54.942 [http-nio-80-exec-4] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat >= ? and p.observe_dat <= ? 
20:27:54.942 [http-nio-80-exec-4] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-07-01 00:00:00.0(Timestamp), 2017-12-26 00:00:00.0(Timestamp)
20:27:54.943 [http-nio-80-exec-4] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 0
20:27:54.943 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66d7c3df]
20:27:54.944 [http-nio-80-exec-4] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
20:27:54.944 [http-nio-80-exec-4] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:27:59.799 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:27:59.803 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:27:59.803 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:27:59.804 [http-nio-80-exec-5] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2de3e014
20:27:59.804 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:27:59.804 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:27:59.804 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:27:59.804 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:27:59.804 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
20:27:59.804 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:27:59.804 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
20:27:59.804 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:27:59.809 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:27:59.809 [http-nio-80-exec-5] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:27:59.809 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:27:59.809 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:27:59.809 [http-nio-80-exec-5] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:27:59.809 [http-nio-80-exec-5] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:27:59.809 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:27:59.809 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44e33a86] was not registered for synchronization because synchronization is not active
20:27:59.810 [http-nio-80-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@5e695783]]] will not be managed by Spring
20:27:59.810 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:27:59.810 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:27:59.811 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:27:59.811 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:27:59.811 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:27:59.811 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44e33a86]
20:27:59.811 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:27:59.811 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:27:59.811 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:27:59.811 [http-nio-80-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@4a24dc6a'
20:27:59.811 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:27:59.811 [http-nio-80-exec-5] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34b9fc7d
20:27:59.811 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:27:59.811 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:27:59.811 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00; Attributes: [authenticated]
20:27:59.811 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@4a24dc6a
20:27:59.811 [http-nio-80-exec-5] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7a758be, returned: 1
20:27:59.812 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:27:59.812 [http-nio-80-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:27:59.812 [http-nio-80-exec-5] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 reached end of additional filter chain; proceeding with original chain
20:27:59.812 [http-nio-80-exec-5] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:27:59.812 [http-nio-80-exec-5] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:27:59.812 [http-nio-80-exec-5] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:27:59.816 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:27:59.816 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e1b51f6] was not registered for synchronization because synchronization is not active
20:27:59.816 [http-nio-80-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@5e695783]]] will not be managed by Spring
20:27:59.816 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:27:59.816 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:27:59.817 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:27:59.817 [http-nio-80-exec-5] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:27:59.817 [http-nio-80-exec-5] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:27:59.817 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e1b51f6]
20:27:59.818 [http-nio-80-exec-5] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00-00-00
20:27:59.818 [http-nio-80-exec-5] DEBUG a.s.u.controller.TreeController - Using timespan max of 2019-12-26T00-00-00
20:27:59.818 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:27:59.818 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56f3eabe] was not registered for synchronization because synchronization is not active
20:27:59.818 [http-nio-80-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@5e695783]]] will not be managed by Spring
20:27:59.818 [http-nio-80-exec-5] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat >= ? and p.observe_dat <= ? 
20:27:59.818 [http-nio-80-exec-5] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-07-01 00:00:00.0(Timestamp), 2019-12-26 00:00:00.0(Timestamp)
20:27:59.819 [http-nio-80-exec-5] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
20:27:59.819 [http-nio-80-exec-5] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1006, 151, 326, 491, 2017-12-27 00:00:00
20:27:59.819 [http-nio-80-exec-5] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 1
20:27:59.820 [http-nio-80-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56f3eabe]
20:27:59.820 [http-nio-80-exec-5] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
20:27:59.821 [http-nio-80-exec-5] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:40:39.963 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 9232 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
20:40:39.963 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
20:40:39.963 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
20:40:40.179 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
20:40:40.395 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
20:40:40.400 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
20:40:40.400 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
20:40:40.400 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
20:40:40.401 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
20:40:40.401 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
20:40:40.401 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
20:40:40.401 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
20:40:40.401 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
20:40:41.145 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
20:40:41.150 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
20:40:41.233 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
20:40:41.237 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1227 ms
20:40:41.513 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
20:40:42.022 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
20:40:42.024 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
20:40:42.024 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
20:40:42.024 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
20:40:42.025 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
20:40:42.025 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
20:40:42.030 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
20:40:42.097 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
20:40:42.107 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
20:40:42.116 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
20:40:42.179 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
20:40:42.179 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
20:40:42.364 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$a9f65ef2@757194dc}
20:40:42.443 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
20:40:42.467 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:40:42.468 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
20:40:42.472 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78411116, org.springframework.security.web.context.SecurityContextPersistenceFilter@1dab9dd6, org.springframework.security.web.header.HeaderWriterFilter@4e868ef5, org.springframework.security.web.authentication.logout.LogoutFilter@25b865b5, at.sparklingscience.urbantrees.security.ApiKeyFilter@638804bf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f099cef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46c00568, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@aced190, org.springframework.security.web.session.SessionManagementFilter@30af7377, org.springframework.security.web.access.ExceptionTranslationFilter@6ad6fa53, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@9a7a808]
20:40:42.634 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@9597028: startup date [Thu Dec 28 20:40:40 UTC 2017]; root of context hierarchy
20:40:42.745 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
20:40:42.746 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
20:40:42.746 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String,at.sparklingscience.urbantrees.domain.PhysiognomyDataset)
20:40:42.748 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
20:40:42.754 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
20:40:42.775 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
20:40:42.775 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
20:40:42.788 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
20:40:42.804 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
20:40:43.032 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.392 seconds (JVM running for 3.655)
20:41:30.982 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
20:41:30.986 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
20:41:30.998 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 8 ms
20:41:31.015 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:41:31.015 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1aab85b1
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /tree/9990/physiognomy' doesn't match 'GET /logout
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /tree/9990/physiognomy' doesn't match 'PUT /logout
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:41:31.017 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:41:31.017 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Authentication failed: null
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:41:31.017 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:41:31.032 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:41:31.032 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@7e210d01'
20:41:31.032 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:41:31.032 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34b9fc7d
20:41:31.032 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:41:31.032 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:41:31.032 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
20:41:31.032 [http-nio-80-exec-2] DEBUG o.s.s.authentication.ProviderManager - Authentication attempt using at.sparklingscience.urbantrees.security.ApiKeyAuthenticationProvider
20:41:31.032 [http-nio-80-exec-2] DEBUG o.s.s.a.DefaultAuthenticationEventPublisher - No event was found for the exception at.sparklingscience.urbantrees.security.ApiKeyAuthenticationException
20:41:31.032 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Authentication exception occurred; redirecting to authentication entry point
at.sparklingscience.urbantrees.security.ApiKeyAuthenticationException: API key is invalid
	at at.sparklingscience.urbantrees.security.ApiKeyAuthenticationProvider.authenticate(ApiKeyAuthenticationProvider.java:15)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.authenticateIfRequired(AbstractSecurityInterceptor.java:354)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:229)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at at.sparklingscience.urbantrees.security.ApiKeyFilter.successfulAuthentication(ApiKeyFilter.java:89)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:240)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
20:41:31.032 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Calling Authentication entry point.
20:41:31.032 [http-nio-80-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
20:41:31.032 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
20:41:52.447 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
20:41:52.452 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
20:41:52.452 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
20:41:52.452 [http-nio-80-exec-4] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@1aab85b1
20:41:52.452 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
20:41:52.452 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
20:41:52.456 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /tree/9990/physiognomy' doesn't match 'GET /logout
20:41:52.456 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
20:41:52.456 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
20:41:52.457 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
20:41:52.457 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /tree/9990/physiognomy' doesn't match 'PUT /logout
20:41:52.457 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
20:41:52.457 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'POST /tree/9990/physiognomy' doesn't match 'DELETE /logout
20:41:52.457 [http-nio-80-exec-4] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
20:41:52.461 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
20:41:52.461 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:41:52.461 [http-nio-80-exec-4] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:41:52.461 [http-nio-80-exec-4] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:41:52.467 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:41:52.471 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@199010a6] was not registered for synchronization because synchronization is not active
20:41:52.860 [http-nio-80-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@2cb73755]]] will not be managed by Spring
20:41:52.863 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:41:52.876 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:41:52.888 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:41:52.888 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:41:52.889 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:41:52.892 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@199010a6]
20:41:52.892 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
20:41:52.893 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
20:41:52.893 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
20:41:52.893 [http-nio-80-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@1df276dc'
20:41:52.893 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
20:41:52.893 [http-nio-80-exec-4] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34b9fc7d
20:41:52.893 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
20:41:52.893 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
20:41:52.893 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
20:41:52.893 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@1df276dc
20:41:52.896 [http-nio-80-exec-4] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1ce52bf2, returned: 1
20:41:52.896 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
20:41:52.896 [http-nio-80-exec-4] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
20:41:52.896 [http-nio-80-exec-4] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
20:41:52.896 [http-nio-80-exec-4] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
20:41:52.896 [http-nio-80-exec-4] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
20:41:52.896 [http-nio-80-exec-4] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
20:41:52.896 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:41:52.896 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@182ece08] was not registered for synchronization because synchronization is not active
20:41:52.901 [http-nio-80-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@2cb73755]]] will not be managed by Spring
20:41:52.901 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
20:41:52.901 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
20:41:52.902 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
20:41:52.902 [http-nio-80-exec-4] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
20:41:52.902 [http-nio-80-exec-4] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
20:41:52.902 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@182ece08]
20:41:52.935 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
20:41:52.935 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cccdd51] was not registered for synchronization because synchronization is not active
20:41:52.936 [http-nio-80-exec-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@2cb73755]]] will not be managed by Spring
20:41:52.936 [http-nio-80-exec-4] DEBUG a.s.u.m.P.insertPhysionomyDataset - ==>  Preparing: insert into tree_data.physiognomy (id, tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat, cre_dat, mod_dat, cre_usr, mod_usr) values (default, ?, ?, ?, ?, ?, ?, now(), now(), user, user) 
20:41:52.937 [http-nio-80-exec-4] DEBUG a.s.u.m.P.insertPhysionomyDataset - ==> Parameters: 9990(Integer), 2(Integer), 2(Integer), 2(Integer), 2(Integer), 2017-12-28 00:00:00.0(Timestamp)
20:41:52.942 [http-nio-80-exec-4] DEBUG a.s.u.m.P.insertPhysionomyDataset - <==    Updates: 1
20:41:52.942 [http-nio-80-exec-4] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cccdd51]
20:41:52.943 [http-nio-80-exec-4] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
20:41:52.943 [http-nio-80-exec-4] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:16:08.639 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 7472 (started by Laurenz Fiala in C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api)
21:16:08.639 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
21:16:08.639 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
21:16:08.867 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
21:16:09.075 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
21:16:09.076 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
21:16:09.076 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
21:16:09.076 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
21:16:09.076 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
21:16:09.076 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
21:16:09.076 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
21:16:09.076 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
21:16:09.076 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
21:16:09.776 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
21:16:09.782 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
21:16:09.875 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
21:16:09.879 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1185 ms
21:16:10.156 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
21:16:10.695 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
21:16:10.702 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
21:16:10.707 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
21:16:10.708 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
21:16:10.708 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
21:16:10.709 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
21:16:10.713 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
21:16:10.784 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
21:16:10.795 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
21:16:10.802 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\Laurenz Fiala\eclipse-workspace\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
21:16:10.869 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
21:16:10.869 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
21:16:11.017 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$a9f65ef2@757194dc}
21:16:11.091 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
21:16:11.107 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:16:11.107 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:16:11.107 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78411116, org.springframework.security.web.context.SecurityContextPersistenceFilter@1dab9dd6, org.springframework.security.web.header.HeaderWriterFilter@4e868ef5, org.springframework.security.web.authentication.logout.LogoutFilter@25b865b5, at.sparklingscience.urbantrees.security.ApiKeyFilter@4c9ccbe4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f099cef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46c00568, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@aced190, org.springframework.security.web.session.SessionManagementFilter@30af7377, org.springframework.security.web.access.ExceptionTranslationFilter@6ad6fa53, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@9a7a808]
21:16:11.270 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@9597028: startup date [Thu Dec 28 21:16:08 UTC 2017]; root of context hierarchy
21:16:11.371 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
21:16:11.371 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String,at.sparklingscience.urbantrees.domain.PhysiognomyDataset)
21:16:11.371 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
21:16:11.371 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
21:16:11.371 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
21:16:11.387 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
21:16:11.387 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
21:16:11.403 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
21:16:11.418 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
21:16:11.637 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.316 seconds (JVM running for 3.57)
21:16:16.202 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
21:16:16.207 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
21:16:16.226 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 15 ms
21:16:16.230 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:16:16.230 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:16:16.230 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:16:16.230 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@60ddfa54
21:16:16.230 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:16:16.230 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:16:16.230 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:16:16.246 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:16:16.246 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:16:16.246 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:16:16.246 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:16:16.246 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:16:16.246 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:16:16.246 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:16:16.246 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:16:16.246 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:16:16.246 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:16:16.246 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:16:16.261 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:16:16.261 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@432d4636] was not registered for synchronization because synchronization is not active
21:16:16.700 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@59e38f9f]]] will not be managed by Spring
21:16:16.704 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:16:16.730 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:16:16.730 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:16:16.730 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:16:16.730 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:16:16.746 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@432d4636]
21:16:16.746 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:16:16.746 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:16:16.746 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:16:16.746 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@6667c234'
21:16:16.746 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:16:16.746 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34b9fc7d
21:16:16.746 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:16:16.746 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:16:16.746 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00; Attributes: [authenticated]
21:16:16.746 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@6667c234
21:16:16.746 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@417880db, returned: 1
21:16:16.746 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:16:16.746 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:16:16.746 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy?timespan_min=2017-07-01T00-00-00&timespan_max=2019-12-26T00-00-00 reached end of additional filter chain; proceeding with original chain
21:16:16.746 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:16:16.746 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:16:16.746 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:16:16.746 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:16:16.746 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@107aa09c] was not registered for synchronization because synchronization is not active
21:16:16.746 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@59e38f9f]]] will not be managed by Spring
21:16:16.746 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:16:16.746 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:16:16.746 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:16:16.746 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:16:16.746 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:16:16.746 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@107aa09c]
21:16:16.761 [http-nio-80-exec-2] DEBUG a.s.u.controller.TreeController - Using timespan min of 2017-07-01T00-00-00
21:16:16.761 [http-nio-80-exec-2] DEBUG a.s.u.controller.TreeController - Using timespan max of 2019-12-26T00-00-00
21:16:16.761 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:16:16.761 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59515a9f] was not registered for synchronization because synchronization is not active
21:16:16.777 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@59e38f9f]]] will not be managed by Spring
21:16:16.777 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id and p.observe_dat >= ? and p.observe_dat <= ? order by p.observe_dat desc 
21:16:16.777 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer), 2017-07-01 00:00:00.0(Timestamp), 2019-12-26 00:00:00.0(Timestamp)
21:16:16.777 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
21:16:16.777 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 2, 2, 2, 2, 2017-12-28 00:00:00
21:16:16.777 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1006, 151, 326, 491, 2017-12-27 00:00:00
21:16:16.777 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 2
21:16:16.777 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59515a9f]
21:16:16.825 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:16:16.825 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:16:27.786 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:16:27.791 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:16:27.791 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:16:27.791 [http-nio-80-exec-3] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@60ddfa54
21:16:27.796 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:16:27.796 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:16:27.796 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:16:27.796 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:16:27.796 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:16:27.796 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:16:27.796 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:16:27.796 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:16:27.801 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:16:27.801 [http-nio-80-exec-3] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:16:27.801 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:16:27.801 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:16:27.801 [http-nio-80-exec-3] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:16:27.801 [http-nio-80-exec-3] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:16:27.801 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:16:27.801 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f639882] was not registered for synchronization because synchronization is not active
21:16:27.802 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@59e38f9f]]] will not be managed by Spring
21:16:27.802 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:16:27.803 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:16:27.803 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:16:27.803 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:16:27.803 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:16:27.804 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f639882]
21:16:27.804 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:16:27.804 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:16:27.804 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:16:27.804 [http-nio-80-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@48020e35'
21:16:27.804 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:16:27.804 [http-nio-80-exec-3] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@34b9fc7d
21:16:27.804 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:16:27.804 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:16:27.804 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
21:16:27.804 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@48020e35
21:16:27.804 [http-nio-80-exec-3] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@417880db, returned: 1
21:16:27.804 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:16:27.804 [http-nio-80-exec-3] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:16:27.804 [http-nio-80-exec-3] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
21:16:27.804 [http-nio-80-exec-3] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:16:27.805 [http-nio-80-exec-3] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:16:27.805 [http-nio-80-exec-3] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:16:27.808 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:16:27.808 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66200fd4] was not registered for synchronization because synchronization is not active
21:16:27.809 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@59e38f9f]]] will not be managed by Spring
21:16:27.809 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:16:27.809 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:16:27.809 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:16:27.809 [http-nio-80-exec-3] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:16:27.810 [http-nio-80-exec-3] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:16:27.810 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66200fd4]
21:16:27.811 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:16:27.811 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1467f581] was not registered for synchronization because synchronization is not active
21:16:27.811 [http-nio-80-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@59e38f9f]]] will not be managed by Spring
21:16:27.811 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id order by p.observe_dat desc 
21:16:27.811 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
21:16:27.812 [http-nio-80-exec-3] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
21:16:27.812 [http-nio-80-exec-3] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 2, 2, 2, 2, 2017-12-28 00:00:00
21:16:27.813 [http-nio-80-exec-3] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1006, 151, 326, 491, 2017-12-27 00:00:00
21:16:27.813 [http-nio-80-exec-3] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
21:16:27.813 [http-nio-80-exec-3] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1, 1, 1, 1, 2017-01-01 00:00:00
21:16:27.814 [http-nio-80-exec-3] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 4
21:16:27.814 [http-nio-80-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1467f581]
21:16:27.816 [http-nio-80-exec-3] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:16:27.816 [http-nio-80-exec-3] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
21:20:39.448 [main] INFO  a.s.urbantrees.UrbantreesApplication - Starting UrbantreesApplication on DESKTOP-LAJLB8G with PID 13084 (C:\devspace\git\urban-trees-api\target\classes started by Laurenz Fiala in C:\devspace\git\urban-trees-api)
21:20:39.451 [main] DEBUG a.s.urbantrees.UrbantreesApplication - Running with Spring Boot v1.5.9.RELEASE, Spring v4.3.13.RELEASE
21:20:39.451 [main] INFO  a.s.urbantrees.UrbantreesApplication - The following profiles are active: dev
21:20:39.714 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
21:20:39.896 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\devspace\git\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\AuthMapper.class]
21:20:39.896 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\devspace\git\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\PhysiognomyMapper.class]
21:20:39.896 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\devspace\git\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mapper\TreeMapper.class]
21:20:39.897 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'authMapper' and 'at.sparklingscience.urbantrees.mapper.AuthMapper' mapperInterface
21:20:39.897 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'authMapper'.
21:20:39.897 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'physiognomyMapper' and 'at.sparklingscience.urbantrees.mapper.PhysiognomyMapper' mapperInterface
21:20:39.897 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'physiognomyMapper'.
21:20:39.897 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'treeMapper' and 'at.sparklingscience.urbantrees.mapper.TreeMapper' mapperInterface
21:20:39.897 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Enabling autowire by type for MapperFactoryBean with name 'treeMapper'.
21:20:40.633 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
21:20:40.640 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.23
21:20:40.719 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
21:20:40.725 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1229 ms
21:20:41.003 [localhost-startStop-1] DEBUG org.apache.ibatis.logging.LogFactory - Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
21:20:41.556 [localhost-startStop-1] DEBUG org.apache.ibatis.io.VFS - Using VFS adapter org.mybatis.spring.boot.autoconfigure.SpringBootVFS
21:20:41.561 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Coordinates matches criteria [is assignable to Object]
21:20:41.565 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Physiognomy matches criteria [is assignable to Object]
21:20:41.565 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.PhysiognomyDataset matches criteria [is assignable to Object]
21:20:41.566 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.Tree matches criteria [is assignable to Object]
21:20:41.566 [localhost-startStop-1] DEBUG org.apache.ibatis.io.ResolverUtil - Checking to see if class at.sparklingscience.urbantrees.domain.TreeLocation matches criteria [is assignable to Object]
21:20:41.570 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Scanned package: 'at.sparklingscience.urbantrees.domain' for aliases
21:20:41.639 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\devspace\git\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\AuthMapper.xml]'
21:20:41.649 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\devspace\git\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\PhysiognomyMapper.xml]'
21:20:41.656 [localhost-startStop-1] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\devspace\git\urban-trees-api\target\classes\at\sparklingscience\urbantrees\mappers\TreeMapper.xml]'
21:20:41.727 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Initializing filter 'apiKeyFilter'
21:20:41.727 [localhost-startStop-1] DEBUG a.s.urbantrees.security.ApiKeyFilter - Filter 'apiKeyFilter' configured successfully
21:20:41.901 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer - Eagerly initializing {securityConfiguration=at.sparklingscience.urbantrees.SecurityConfiguration$$EnhancerBySpringCGLIB$$125861bf@78c7f9b3}
21:20:41.981 [main] DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource - Adding web access control expression 'authenticated', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
21:20:41.993 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:20:41.993 [main] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Validated configuration attributes
21:20:41.997 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71178a52, org.springframework.security.web.context.SecurityContextPersistenceFilter@61d01788, org.springframework.security.web.header.HeaderWriterFilter@4a1c0752, org.springframework.security.web.authentication.logout.LogoutFilter@46c00568, at.sparklingscience.urbantrees.security.ApiKeyFilter@642345c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@264c5d07, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e742e4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ff6077, org.springframework.security.web.session.SessionManagementFilter@1b32cd16, org.springframework.security.web.access.ExceptionTranslationFilter@4b1abd11, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@703feacd]
21:20:42.178 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@9597028: startup date [Thu Dec 28 21:20:39 UTC 2017]; root of context hierarchy
21:20:42.296 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}],methods=[GET]}" onto at.sparklingscience.urbantrees.domain.Tree at.sparklingscience.urbantrees.controller.TreeController.getTree(java.lang.String)
21:20:42.297 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[POST]}" onto void at.sparklingscience.urbantrees.controller.TreeController.putTreePhysiognomyDataset(java.lang.String,at.sparklingscience.urbantrees.domain.PhysiognomyDataset)
21:20:42.297 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/tree/{treeId:\d+}/physiognomy],methods=[GET]}" onto java.util.List<at.sparklingscience.urbantrees.domain.PhysiognomyDataset> at.sparklingscience.urbantrees.controller.TreeController.getTreePhysiognomy(java.lang.String,java.lang.String,java.lang.String)
21:20:42.298 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
21:20:42.304 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
21:20:42.326 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
21:20:42.326 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
21:20:42.342 [main] INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Detected @ExceptionHandler methods in restExceptionHandler
21:20:42.364 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
21:20:42.603 [main] INFO  a.s.urbantrees.UrbantreesApplication - Started UrbantreesApplication in 3.503 seconds (JVM running for 3.788)
21:20:49.081 [http-nio-80-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
21:20:49.086 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
21:20:49.108 [http-nio-80-exec-2] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 18 ms
21:20:49.119 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
21:20:49.120 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
21:20:49.121 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
21:20:49.127 [http-nio-80-exec-2] DEBUG o.s.s.w.h.writers.HstsHeaderWriter - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@695e1cf5
21:20:49.127 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
21:20:49.127 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', GET]
21:20:49.127 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Checking match of request : '/tree/9990/physiognomy'; against '/logout'
21:20:49.132 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', POST]
21:20:49.132 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'POST /logout
21:20:49.132 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', PUT]
21:20:49.132 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'PUT /logout
21:20:49.132 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - Trying to match using Ant [pattern='/logout', DELETE]
21:20:49.132 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request 'GET /tree/9990/physiognomy' doesn't match 'DELETE /logout
21:20:49.132 [http-nio-80-exec-2] DEBUG o.s.s.w.u.matcher.OrRequestMatcher - No matches found
21:20:49.132 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 5 of 11 in additional filter chain; firing Filter: 'ApiKeyFilter'
21:20:49.137 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:20:49.137 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:20:49.137 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:20:49.145 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:20:49.149 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20b43bbd] was not registered for synchronization because synchronization is not active
21:20:49.600 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@2a650dea]]] will not be managed by Spring
21:20:49.605 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:20:49.636 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:20:49.650 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:20:49.650 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:20:49.650 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:20:49.654 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20b43bbd]
21:20:49.654 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
21:20:49.654 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
21:20:49.655 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
21:20:49.655 [http-nio-80-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - SecurityContextHolder not populated with anonymous token, as it already contained: 'at.sparklingscience.urbantrees.security.ApiKeyAuthentication@570d333c'
21:20:49.655 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
21:20:49.655 [http-nio-80-exec-2] DEBUG o.s.s.w.a.s.CompositeSessionAuthenticationStrategy - Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1eea9d2d
21:20:49.655 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
21:20:49.655 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
21:20:49.656 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /tree/9990/physiognomy; Attributes: [authenticated]
21:20:49.656 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: at.sparklingscience.urbantrees.security.ApiKeyAuthentication@570d333c
21:20:49.658 [http-nio-80-exec-2] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@3d7dab95, returned: 1
21:20:49.658 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful
21:20:49.658 [http-nio-80-exec-2] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object
21:20:49.658 [http-nio-80-exec-2] DEBUG o.s.security.web.FilterChainProxy - /tree/9990/physiognomy reached end of additional filter chain; proceeding with original chain
21:20:49.659 [http-nio-80-exec-2] DEBUG o.s.s.w.u.m.AntPathRequestMatcher - Request '/tree/9990/physiognomy' matched by universal pattern '/**'
21:20:49.659 [http-nio-80-exec-2] DEBUG a.s.urbantrees.security.ApiKeyFilter - Request is to process authentication
21:20:49.659 [http-nio-80-exec-2] TRACE a.s.urbantrees.security.ApiKeyFilter - Attempting authentication for key 8ec046bf-94cb-402b-b15c-880c317149ee
21:20:49.659 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:20:49.659 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@572d511c] was not registered for synchronization because synchronization is not active
21:20:49.659 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@2a650dea]]] will not be managed by Spring
21:20:49.663 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==>  Preparing: select count(0) as amount from access_data.api_key where api_key = ? 
21:20:49.663 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - ==> Parameters: 8ec046bf-94cb-402b-b15c-880c317149ee(UUID)
21:20:49.663 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==    Columns: amount
21:20:49.663 [http-nio-80-exec-2] TRACE a.s.u.m.AuthMapper.hasValidApiKey - <==        Row: 1
21:20:49.664 [http-nio-80-exec-2] DEBUG a.s.u.m.AuthMapper.hasValidApiKey - <==      Total: 1
21:20:49.664 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@572d511c]
21:20:49.677 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
21:20:49.677 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62faa3f6] was not registered for synchronization because synchronization is not active
21:20:49.694 [http-nio-80-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [ProxyConnection[PooledConnection[org.postgresql.jdbc.PgConnection@2a650dea]]] will not be managed by Spring
21:20:49.694 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==>  Preparing: select p.tree_id, p.tree_height, p.trunk_circumference, p.crown_base, p.crown_width, p.observe_dat from tree_data.tree t, tree_data.physiognomy p where t.id = ? and t.id = p.tree_id order by p.observe_dat desc 
21:20:49.694 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - ==> Parameters: 9990(Integer)
21:20:49.696 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==    Columns: tree_id, tree_height, trunk_circumference, crown_base, crown_width, observe_dat
21:20:49.696 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 2, 2, 2, 2, 2017-12-28 00:00:00
21:20:49.697 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1006, 151, 326, 491, 2017-12-27 00:00:00
21:20:49.697 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1005, 150, 325, 490, 2017-01-01 00:00:00
21:20:49.698 [http-nio-80-exec-2] TRACE a.s.u.m.P.findPhysiognomyByTreeId - <==        Row: 9990, 1, 1, 1, 1, 2017-01-01 00:00:00
21:20:49.698 [http-nio-80-exec-2] DEBUG a.s.u.m.P.findPhysiognomyByTreeId - <==      Total: 4
21:20:49.698 [http-nio-80-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62faa3f6]
21:20:49.735 [http-nio-80-exec-2] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Chain processed normally
21:20:49.735 [http-nio-80-exec-2] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - SecurityContextHolder now cleared, as request processing completed
